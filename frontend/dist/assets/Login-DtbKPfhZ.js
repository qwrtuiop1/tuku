import{_ as N}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css                *//* empty css                    */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import{y as S,c as z,r as k,l as M,j as U,z as T,B as s,aB as W,R as o,J as t,W as j,O as i,al as g,A as x,aC as A,u as l,a4 as K,I as D,L as J,P as O}from"./vendor-BcB6VvZI.js";import{b as G,c as H,d as X,u as y,l as V,e as Y,f as Z,g as v,h as $,r as ee,j as se,v as oe,E as b}from"./element-CHj0RLGm.js";import{u as te}from"./index-DirPTg0b.js";const le={class:"login-container"},ae={class:"top-nav"},ne={class:"nav-content"},ie={class:"nav-logo"},re={class:"nav-actions"},de={class:"login-content"},ue={class:"login-box"},ce={class:"login-header"},fe={class:"header-icon"},pe={class:"remember-forgot-container"},me={class:"social-login"},_e={class:"login-footer"},ge={class:"register-link"},ve={class:"info-panel"},be={class:"panel-content"},he={class:"feature-list"},we={class:"feature-item"},ke={class:"feature-item"},xe={class:"feature-item"},ye=S({__name:"Login",setup(Ve){const p=A(),c=te();z(()=>window.innerWidth<=768);const m=k(),r=M({username:"",password:""}),h=k(!1),C={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},_=async()=>{if(m.value)try{await m.value.validate(),await c.login(r)&&p.push("/")}catch(n){console.error("登录失败:",n)}},Q=()=>{p.push("/register")},E=()=>{p.push("/forgot-password")},B=async()=>{try{const n=await api.get("/auth/qq/auth");n.data.success?window.location.href=n.data.authUrl:b.error("QQ登录服务暂不可用")}catch(n){console.error("QQ登录失败:",n),b.error("QQ登录失败，请重试")}},q=()=>{b.info("微信登录功能开发中...")};return U(()=>{}),(n,e)=>{const F=g("Picture"),a=G,d=H,w=Z,f=Y,L=$,P=X,R=g("router-link"),I=g("Platform");return x(),T("div",le,[s("div",ae,[s("div",ne,[s("div",ie,[o(a,{class:"logo-icon"},{default:t(()=>[o(F)]),_:1}),e[3]||(e[3]=s("span",{class:"logo-text"},"图库系统",-1))]),s("div",re,[o(d,{type:"text",onClick:Q},{default:t(()=>[o(a,null,{default:t(()=>[o(l(y))]),_:1}),e[4]||(e[4]=i(" 注册 ",-1))]),_:1})])])]),s("div",de,[s("div",ue,[s("div",ce,[s("div",fe,[o(a,null,{default:t(()=>[o(l(V))]),_:1})]),e[5]||(e[5]=s("h1",{class:"login-title"},"欢迎回来",-1)),e[6]||(e[6]=s("p",{class:"login-subtitle"},"登录您的账户以继续使用图库系统",-1))]),o(P,{ref_key:"loginFormRef",ref:m,model:r,rules:C,class:"login-form",onSubmit:j(_,["prevent"])},{default:t(()=>[o(f,{prop:"username"},{default:t(()=>[o(w,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=u=>r.username=u),placeholder:"请输入用户名或邮箱",size:"large","prefix-icon":l(v),clearable:"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),o(f,{prop:"password"},{default:t(()=>[o(w,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=u=>r.password=u),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":l(V),"show-password":"",class:"custom-input",onKeyup:K(_,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(f,{class:"remember-row"},{default:t(()=>[s("div",pe,[o(L,{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=u=>h.value=u),class:"remember-checkbox"},{default:t(()=>[...e[7]||(e[7]=[i(" 记住我 ",-1)])]),_:1},8,["modelValue"]),o(d,{type:"text",class:"forgot-password",onClick:E},{default:t(()=>[...e[8]||(e[8]=[i(" 忘记密码？ ",-1)])]),_:1})])]),_:1}),o(f,null,{default:t(()=>[o(d,{type:"primary",size:"large",class:"login-button",loading:l(c).loading,onClick:_},{default:t(()=>[l(c).loading?J("",!0):(x(),D(a,{key:0},{default:t(()=>[o(l(ee))]),_:1})),i(" "+O(l(c).loading?"登录中...":"立即登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[13]||(e[13]=s("div",{class:"login-divider"},[s("span",{class:"divider-text"},"或")],-1)),s("div",me,[o(d,{class:"social-btn qq-btn",onClick:B},{default:t(()=>[o(a,null,{default:t(()=>[o(l(v))]),_:1}),e[9]||(e[9]=i(" QQ登录 ",-1))]),_:1}),o(d,{class:"social-btn wechat-btn",onClick:q},{default:t(()=>[o(a,null,{default:t(()=>[o(l(v))]),_:1}),e[10]||(e[10]=i(" 微信登录 ",-1))]),_:1})]),s("div",_e,[s("p",ge,[e[12]||(e[12]=i(" 还没有账户？ ",-1)),o(R,{to:"/register",class:"link"},{default:t(()=>[o(a,null,{default:t(()=>[o(l(y))]),_:1}),e[11]||(e[11]=i(" 立即注册 ",-1))]),_:1})])])]),s("div",ve,[s("div",be,[e[17]||(e[17]=s("h2",{class:"panel-title"},"为什么选择图库系统？",-1)),s("div",he,[s("div",we,[o(a,{class:"feature-icon"},{default:t(()=>[o(l(se))]),_:1}),e[14]||(e[14]=s("div",{class:"feature-content"},[s("h3",null,"快速上传"),s("p",null,"支持拖拽上传，批量处理，让文件管理更高效")],-1))]),s("div",ke,[o(a,{class:"feature-icon"},{default:t(()=>[o(l(oe))]),_:1}),e[15]||(e[15]=s("div",{class:"feature-content"},[s("h3",null,"在线预览"),s("p",null,"图片、视频在线预览，无需下载即可查看")],-1))]),s("div",xe,[o(a,{class:"feature-icon"},{default:t(()=>[o(I)]),_:1}),e[16]||(e[16]=s("div",{class:"feature-content"},[s("h3",null,"安全可靠"),s("p",null,"企业级安全防护，保护您的文件隐私")],-1))])])])])]),e[18]||(e[18]=W('<div class="bg-decoration" data-v-bffeb03d><div class="floating-shape shape-1" data-v-bffeb03d></div><div class="floating-shape shape-2" data-v-bffeb03d></div><div class="floating-shape shape-3" data-v-bffeb03d></div><div class="floating-shape shape-4" data-v-bffeb03d></div></div>',1))])}}}),Re=N(ye,[["__scopeId","data-v-bffeb03d"]]);export{Re as default};
