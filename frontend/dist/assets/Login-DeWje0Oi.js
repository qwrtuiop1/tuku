import{_ as N}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css                *//* empty css                    */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import{y as P,c as S,r as x,l as z,j as T,z as U,B as s,aB as W,R as t,J as o,W as K,O as r,al as h,A as y,aC as j,u as a,a4 as A,I as O,L as $,P as D}from"./vendor-zXVeQ_Lg.js";import{b as J,c as G,d as H,u as V,l as C,e as X,f as Y,g as w,h as Z,r as ee,j as se,v as te,E as d}from"./element-EMRHCpUD.js";import{u as oe,a as ae}from"./index-Czg_G3sW.js";const le={class:"login-container"},ne={class:"top-nav"},re={class:"nav-content"},ie={class:"nav-logo"},de={class:"nav-actions"},ue={class:"login-content"},ce={class:"login-box"},pe={class:"login-header"},fe={class:"header-icon"},me={class:"remember-forgot-container"},_e={class:"social-login"},ge={class:"social-btn-wrapper"},ve={class:"social-btn-wrapper"},be={class:"login-footer"},he={class:"register-link"},we={class:"info-panel"},ke={class:"panel-content"},xe={class:"feature-list"},ye={class:"feature-item"},Ve={class:"feature-item"},Ce={class:"feature-item"},Ee=P({__name:"Login",setup(Qe){const _=j(),f=oe();S(()=>window.innerWidth<=768);const g=x(),i=z({username:"",password:""}),v=x(localStorage.getItem("rememberMe")==="true"),E={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},b=async()=>{if(g.value)try{await g.value.validate(),await f.login({...i,rememberMe:v.value})&&_.push("/")}catch{}},Q=()=>{_.push("/register")},R=()=>{_.push("/forgot-password")},B=async()=>{var u,e;try{const l=await ae.get("/auth/qq/auth");l.data.success?window.location.href=l.data.authUrl:d.error(`QQ登录服务暂不可用: ${l.data.message}`)}catch(l){l.code==="ERR_NETWORK"?d.error("网络连接失败，请检查网络连接"):((u=l.response)==null?void 0:u.status)===404?d.error("QQ登录接口不存在"):((e=l.response)==null?void 0:e.status)===500?d.error("服务器内部错误，请联系管理员"):d.error(`QQ登录失败: ${l.message||"请重试"}`)}},q=()=>{d.info("微信登录功能开发中...")};return T(()=>{}),(u,e)=>{const l=h("Picture"),n=J,c=G,k=Y,m=X,F=Z,I=H,L=h("router-link"),M=h("Platform");return y(),U("div",le,[s("div",ne,[s("div",re,[s("div",ie,[t(n,{class:"logo-icon"},{default:o(()=>[t(l)]),_:1}),e[3]||(e[3]=s("span",{class:"logo-text"},"图库系统",-1))]),s("div",de,[t(c,{type:"text",onClick:Q},{default:o(()=>[t(n,null,{default:o(()=>[t(a(V))]),_:1}),e[4]||(e[4]=r(" 注册 ",-1))]),_:1})])])]),s("div",ue,[s("div",ce,[s("div",pe,[s("div",fe,[t(n,null,{default:o(()=>[t(a(C))]),_:1})]),e[5]||(e[5]=s("h1",{class:"login-title"},"欢迎回来",-1)),e[6]||(e[6]=s("p",{class:"login-subtitle"},"登录您的账户以继续使用图库系统",-1))]),t(I,{ref_key:"loginFormRef",ref:g,model:i,rules:E,class:"login-form",onSubmit:K(b,["prevent"])},{default:o(()=>[t(m,{prop:"username"},{default:o(()=>[t(k,{modelValue:i.username,"onUpdate:modelValue":e[0]||(e[0]=p=>i.username=p),placeholder:"请输入用户名或邮箱",size:"large","prefix-icon":a(w),clearable:"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),t(m,{prop:"password"},{default:o(()=>[t(k,{modelValue:i.password,"onUpdate:modelValue":e[1]||(e[1]=p=>i.password=p),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":a(C),"show-password":"",class:"custom-input",onKeyup:A(b,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),t(m,{class:"remember-row"},{default:o(()=>[s("div",me,[t(F,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=p=>v.value=p),class:"remember-checkbox"},{default:o(()=>[...e[7]||(e[7]=[s("span",{class:"remember-text"},"记住我",-1),s("span",{class:"remember-hint"},"（30天内免登录）",-1)])]),_:1},8,["modelValue"]),t(c,{type:"text",class:"forgot-password",onClick:R},{default:o(()=>[...e[8]||(e[8]=[r(" 忘记密码？ ",-1)])]),_:1})])]),_:1}),t(m,null,{default:o(()=>[t(c,{type:"primary",size:"large",class:"login-button",loading:a(f).loading,onClick:b},{default:o(()=>[a(f).loading?$("",!0):(y(),O(n,{key:0},{default:o(()=>[t(a(ee))]),_:1})),r(" "+D(a(f).loading?"登录中...":"立即登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[13]||(e[13]=s("div",{class:"login-divider"},[s("span",{class:"divider-text"},"或")],-1)),s("div",_e,[s("div",ge,[t(c,{class:"social-btn qq-btn",onClick:B},{default:o(()=>[t(n,null,{default:o(()=>[t(a(w))]),_:1}),e[9]||(e[9]=r(" QQ登录 ",-1))]),_:1})]),s("div",ve,[t(c,{class:"social-btn wechat-btn",onClick:q},{default:o(()=>[t(n,null,{default:o(()=>[t(a(w))]),_:1}),e[10]||(e[10]=r(" 微信登录 ",-1))]),_:1})])]),s("div",be,[s("p",he,[e[12]||(e[12]=r(" 还没有账户？ ",-1)),t(L,{to:"/register",class:"link"},{default:o(()=>[t(n,null,{default:o(()=>[t(a(V))]),_:1}),e[11]||(e[11]=r(" 立即注册 ",-1))]),_:1})])])]),s("div",we,[s("div",ke,[e[17]||(e[17]=s("h2",{class:"panel-title"},"为什么选择图库系统？",-1)),s("div",xe,[s("div",ye,[t(n,{class:"feature-icon"},{default:o(()=>[t(a(se))]),_:1}),e[14]||(e[14]=s("div",{class:"feature-content"},[s("h3",null,"快速上传"),s("p",null,"支持拖拽上传，批量处理，让文件管理更高效")],-1))]),s("div",Ve,[t(n,{class:"feature-icon"},{default:o(()=>[t(a(te))]),_:1}),e[15]||(e[15]=s("div",{class:"feature-content"},[s("h3",null,"在线预览"),s("p",null,"图片、视频在线预览，无需下载即可查看")],-1))]),s("div",Ce,[t(n,{class:"feature-icon"},{default:o(()=>[t(M)]),_:1}),e[16]||(e[16]=s("div",{class:"feature-content"},[s("h3",null,"安全可靠"),s("p",null,"企业级安全防护，保护您的文件隐私")],-1))])])])])]),e[18]||(e[18]=W('<div class="bg-decoration" data-v-ecc0dfaf><div class="floating-shape shape-1" data-v-ecc0dfaf></div><div class="floating-shape shape-2" data-v-ecc0dfaf></div><div class="floating-shape shape-3" data-v-ecc0dfaf></div><div class="floating-shape shape-4" data-v-ecc0dfaf></div></div>',1))])}}}),Pe=N(Ee,[["__scopeId","data-v-ecc0dfaf"]]);export{Pe as default};
