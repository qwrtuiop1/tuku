import{_ as N}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css                *//* empty css                    */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import{y as S,c as z,r as k,l as M,j as U,z as T,B as e,aB as W,R as t,J as o,W as j,O as n,al as g,A as x,aC as A,u as l,a4 as K,I as D,L as J,P as O}from"./vendor-BcB6VvZI.js";import{b as G,c as H,d as X,u as y,l as V,e as Y,f as Z,g as v,h as $,r as ss,j as es,v as ts,E as b}from"./element-CHj0RLGm.js";import{u as os}from"./index-ourEn2z0.js";const ls={class:"login-container"},as={class:"top-nav"},ns={class:"nav-content"},is={class:"nav-logo"},rs={class:"nav-actions"},ds={class:"login-content"},us={class:"login-box"},cs={class:"login-header"},ps={class:"header-icon"},fs={class:"remember-forgot-container"},ms={class:"social-login"},_s={class:"login-footer"},gs={class:"register-link"},vs={class:"info-panel"},bs={class:"panel-content"},hs={class:"feature-list"},ws={class:"feature-item"},ks={class:"feature-item"},xs={class:"feature-item"},ys=S({__name:"Login",setup(Vs){const f=A(),c=os();z(()=>window.innerWidth<=768);const m=k(),i=M({username:"",password:""}),h=k(!1),C={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},_=async()=>{if(m.value)try{await m.value.validate(),await c.login(i)&&f.push("/")}catch{}},E=()=>{f.push("/register")},Q=()=>{f.push("/forgot-password")},B=async()=>{try{const r=await api.get("/auth/qq/auth");r.data.success?window.location.href=r.data.authUrl:b.error("QQ登录服务暂不可用")}catch{b.error("QQ登录失败，请重试")}},q=()=>{b.info("微信登录功能开发中...")};return U(()=>{}),(r,s)=>{const F=g("Picture"),a=G,d=H,w=Z,p=Y,L=$,P=X,R=g("router-link"),I=g("Platform");return x(),T("div",ls,[e("div",as,[e("div",ns,[e("div",is,[t(a,{class:"logo-icon"},{default:o(()=>[t(F)]),_:1}),s[3]||(s[3]=e("span",{class:"logo-text"},"图库系统",-1))]),e("div",rs,[t(d,{type:"text",onClick:E},{default:o(()=>[t(a,null,{default:o(()=>[t(l(y))]),_:1}),s[4]||(s[4]=n(" 注册 ",-1))]),_:1})])])]),e("div",ds,[e("div",us,[e("div",cs,[e("div",ps,[t(a,null,{default:o(()=>[t(l(V))]),_:1})]),s[5]||(s[5]=e("h1",{class:"login-title"},"欢迎回来",-1)),s[6]||(s[6]=e("p",{class:"login-subtitle"},"登录您的账户以继续使用图库系统",-1))]),t(P,{ref_key:"loginFormRef",ref:m,model:i,rules:C,class:"login-form",onSubmit:j(_,["prevent"])},{default:o(()=>[t(p,{prop:"username"},{default:o(()=>[t(w,{modelValue:i.username,"onUpdate:modelValue":s[0]||(s[0]=u=>i.username=u),placeholder:"请输入用户名或邮箱",size:"large","prefix-icon":l(v),clearable:"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),t(p,{prop:"password"},{default:o(()=>[t(w,{modelValue:i.password,"onUpdate:modelValue":s[1]||(s[1]=u=>i.password=u),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":l(V),"show-password":"",class:"custom-input",onKeyup:K(_,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),t(p,{class:"remember-row"},{default:o(()=>[e("div",fs,[t(L,{modelValue:h.value,"onUpdate:modelValue":s[2]||(s[2]=u=>h.value=u),class:"remember-checkbox"},{default:o(()=>[...s[7]||(s[7]=[n(" 记住我 ",-1)])]),_:1},8,["modelValue"]),t(d,{type:"text",class:"forgot-password",onClick:Q},{default:o(()=>[...s[8]||(s[8]=[n(" 忘记密码？ ",-1)])]),_:1})])]),_:1}),t(p,null,{default:o(()=>[t(d,{type:"primary",size:"large",class:"login-button",loading:l(c).loading,onClick:_},{default:o(()=>[l(c).loading?J("",!0):(x(),D(a,{key:0},{default:o(()=>[t(l(ss))]),_:1})),n(" "+O(l(c).loading?"登录中...":"立即登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),s[13]||(s[13]=e("div",{class:"login-divider"},[e("span",{class:"divider-text"},"或")],-1)),e("div",ms,[t(d,{class:"social-btn qq-btn",onClick:B},{default:o(()=>[t(a,null,{default:o(()=>[t(l(v))]),_:1}),s[9]||(s[9]=n(" QQ登录 ",-1))]),_:1}),t(d,{class:"social-btn wechat-btn",onClick:q},{default:o(()=>[t(a,null,{default:o(()=>[t(l(v))]),_:1}),s[10]||(s[10]=n(" 微信登录 ",-1))]),_:1})]),e("div",_s,[e("p",gs,[s[12]||(s[12]=n(" 还没有账户？ ",-1)),t(R,{to:"/register",class:"link"},{default:o(()=>[t(a,null,{default:o(()=>[t(l(y))]),_:1}),s[11]||(s[11]=n(" 立即注册 ",-1))]),_:1})])])]),e("div",vs,[e("div",bs,[s[17]||(s[17]=e("h2",{class:"panel-title"},"为什么选择图库系统？",-1)),e("div",hs,[e("div",ws,[t(a,{class:"feature-icon"},{default:o(()=>[t(l(es))]),_:1}),s[14]||(s[14]=e("div",{class:"feature-content"},[e("h3",null,"快速上传"),e("p",null,"支持拖拽上传，批量处理，让文件管理更高效")],-1))]),e("div",ks,[t(a,{class:"feature-icon"},{default:o(()=>[t(l(ts))]),_:1}),s[15]||(s[15]=e("div",{class:"feature-content"},[e("h3",null,"在线预览"),e("p",null,"图片、视频在线预览，无需下载即可查看")],-1))]),e("div",xs,[t(a,{class:"feature-icon"},{default:o(()=>[t(I)]),_:1}),s[16]||(s[16]=e("div",{class:"feature-content"},[e("h3",null,"安全可靠"),e("p",null,"企业级安全防护，保护您的文件隐私")],-1))])])])])]),s[18]||(s[18]=W('<div class="bg-decoration" data-v-718fbd18><div class="floating-shape shape-1" data-v-718fbd18></div><div class="floating-shape shape-2" data-v-718fbd18></div><div class="floating-shape shape-3" data-v-718fbd18></div><div class="floating-shape shape-4" data-v-718fbd18></div></div>',1))])}}}),Rs=N(ys,[["__scopeId","data-v-718fbd18"]]);export{Rs as default};
