const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/element-EMRHCpUD.js","assets/vendor-zXVeQ_Lg.js"])))=>i.map(i=>d[i]);
import{a as F,_ as Ue}from"./index-Czg_G3sW.js";import{_ as it}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css                *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                  *//* empty css                 *//* empty css                        *//* empty css                              *//* empty css                  *//* empty css                    *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                    */import{c as dt,aN as rt,y as ut,b as pt,C as fe,aO as mt,O as Fe,q as Qe,l as Me,aS as Ce,aT as Te,aU as N,z as _e,d as ct,e as gt,f as ft,w as M,aE as _t,aF as vt,h as bt,aD as yt,aH as wt,aP as qt,aJ as Vt,al as kt,aV as St,af as Et,aQ as Lt,au as xt,av as It,E as u}from"./element-EMRHCpUD.js";import{y as ht,r as L,l as C,c as At,j as Ut,z as y,B as l,R as t,J as s,L as w,D as De,A as b,O as _,u as g,al as T,P as ae,I as Ft}from"./vendor-zXVeQ_Lg.js";const Qt={class:"settings-page"},Mt={class:"page-header"},Ct={class:"header-content"},Tt={class:"header-actions"},Dt={class:"settings-content"},Pt={class:"mobile-settings-layout"},Rt={class:"mobile-settings-nav"},Nt={class:"tab-label"},zt={class:"tab-label"},Bt={class:"tab-label"},Wt={class:"tab-label"},jt={class:"tab-label"},Kt={class:"tab-label"},Gt={class:"tab-label"},Ht={key:0,class:"scroll-indicator"},$t={class:"scroll-track"},Ot={class:"mobile-settings-content"},Jt={key:0,class:"mobile-settings-section"},Xt={class:"mobile-section-header"},Yt={class:"section-title"},Zt={class:"form-group"},el={class:"form-group"},tl={class:"form-actions"},ll={class:"button-container"},sl={key:1,class:"mobile-settings-section"},ol={class:"mobile-section-header"},al={class:"section-title"},nl={class:"form-group"},il={class:"input-with-unit"},dl={class:"form-group"},rl={class:"input-with-unit"},ul={class:"form-group"},pl={class:"form-group"},ml={class:"form-group"},cl={class:"input-with-unit"},gl={class:"form-actions"},fl={class:"button-container"},_l={key:2,class:"mobile-settings-section"},vl={class:"mobile-section-header"},bl={class:"section-title"},yl={class:"form-group"},wl={class:"input-with-unit"},ql={class:"form-group"},Vl={key:0,class:"form-group"},kl={class:"input-with-unit"},Sl={key:1,class:"form-group"},El={class:"input-with-unit"},Ll={class:"form-group"},xl={class:"input-with-unit"},Il={class:"form-actions"},hl={class:"button-container"},Al={key:3,class:"mobile-settings-section"},Ul={class:"mobile-section-header"},Fl={class:"section-title"},Ql={class:"form-group"},Ml={key:0,class:"form-group"},Cl={key:1,class:"form-group"},Tl={key:2,class:"form-group"},Dl={class:"form-group"},Pl={class:"form-actions"},Rl={class:"button-container"},Nl={key:4,class:"mobile-settings-section"},zl={class:"mobile-section-header"},Bl={class:"section-title"},Wl={class:"appearance-group"},jl={class:"group-header"},Kl={class:"form-group"},Gl={class:"radio-content"},Hl={class:"radio-content"},$l={class:"radio-content"},Ol={class:"form-group"},Jl={class:"color-picker-wrapper"},Xl={class:"color-preview"},Yl={class:"color-value"},Zl={class:"appearance-group"},es={class:"group-header"},ts={class:"form-group"},ls={class:"slider-wrapper"},ss={class:"form-group"},os={class:"switch-wrapper"},as={class:"switch-description"},ns={class:"appearance-group"},is={class:"group-header"},ds={class:"form-group"},rs={class:"input-wrapper"},us={key:0,class:"logo-preview"},ps=["src"],ms={class:"form-group"},cs={class:"input-wrapper"},gs={key:0,class:"favicon-preview"},fs=["src"],_s={class:"form-actions"},vs={class:"button-container"},bs={key:5,class:"mobile-settings-section"},ys={class:"mobile-section-header"},ws={class:"section-title"},qs={class:"integration-group"},Vs={class:"integration-header"},ks={class:"form-group"},Ss={key:0,class:"form-group"},Es={class:"field-description"},Ls={key:1,class:"form-group"},xs={key:2,class:"form-group"},Is={class:"integration-group"},hs={class:"integration-header"},As={class:"form-group"},Us={key:0,class:"form-group"},Fs={class:"field-description"},Qs={key:1,class:"form-group"},Ms={class:"form-group"},Cs={class:"test-buttons"},Ts={key:0,class:"form-description",style:{"margin-top":"8px",color:"#e6a23c"}},Ds={key:6,class:"mobile-settings-section"},Ps={class:"mobile-section-header"},Rs={class:"section-title"},Ns={class:"form-group"},zs={key:0,class:"form-group"},Bs={class:"form-group"},Ws={key:1,class:"form-group"},js={key:2,class:"form-group"},Ks={class:"form-group"},Gs={class:"form-actions"},Hs={class:"button-container"},$s={class:"button-container"},Os=ht({__name:"SettingsPage",setup(Js){const ne=L(!1),V=L(!1),U=L("general"),ie=L(),de=L(),re=L(),Pe=L(),Re=L(),ue=L(),pe=L(),me=L(!1),K=L(0),G=L(0),ce=L(!1),ge=L(!1),Q=C({systemName:"",systemDescription:""}),k=C({maxFileSize:100,maxUploadFiles:10,allowedImageTypes:["jpg","jpeg","png","gif","webp"],allowedVideoTypes:["mp4","webm","mov"],thumbnailSize:300}),q=C({minPasswordLength:6,enableLoginLock:!0,maxLoginAttempts:5,lockoutDuration:15,sessionTimeout:120}),c=C({enableEmailNotification:!1,smtpHost:"",smtpPort:587,smtpUsername:"",smtpPassword:"",senderEmail:"",senderName:"图库系统",enableSystemNotification:!0}),m=C({themeMode:"light",primaryColor:"#409EFF",sidebarWidth:240,enableAnimation:!0,logoUrl:"/logo.png",faviconUrl:"/logo.png"}),a=C({qqLoginEnabled:!1,qqAppId:"",qqAppKey:"",wechatLoginEnabled:!1,wechatAppId:"",wechatAppSecret:""}),f=C({maintenanceMode:!1,maintenanceMessage:"",backupEnabled:!1,backupFrequency:"daily",backupRetentionDays:30,autoCleanLogs:!1}),D=L({qqLoginEnabled:!1,wechatLoginEnabled:!1,qqAppId:"",wechatAppId:""}),H=At(()=>a.qqLoginEnabled!==D.value.qqLoginEnabled||a.wechatLoginEnabled!==D.value.wechatLoginEnabled||a.qqAppId!==D.value.qqAppId||a.wechatAppId!==D.value.wechatAppId),Ne={systemName:[{required:!0,message:"请输入系统名称",trigger:"blur"},{max:50,message:"系统名称长度不能超过 50 个字符",trigger:"blur"}],systemDescription:[{max:200,message:"系统描述长度不能超过 200 个字符",trigger:"blur"}]},ze={maxFileSize:[{required:!0,message:"请输入最大文件大小",trigger:"blur"}],maxUploadFiles:[{required:!0,message:"请输入最大上传文件数",trigger:"blur"}],thumbnailSize:[{required:!0,message:"请输入缩略图尺寸",trigger:"blur"}]},Be={minPasswordLength:[{required:!0,message:"请输入密码最小长度",trigger:"blur"}],maxLoginAttempts:[{required:!0,message:"请输入最大失败次数",trigger:"blur"}],lockoutDuration:[{required:!0,message:"请输入锁定时间",trigger:"blur"}],sessionTimeout:[{required:!0,message:"请输入会话超时时间",trigger:"blur"}]},We={maintenanceMessage:[{max:500,message:"维护消息不能超过500个字符",trigger:"blur"}],backupFrequency:[{required:!0,message:"请选择备份频率",trigger:"change"}],backupRetentionDays:[{required:!0,message:"请输入备份保留天数",trigger:"blur"},{type:"number",min:1,max:365,message:"备份保留天数必须在1-365天之间",trigger:"blur"}]},je=n=>{U.value=n},Ke=async()=>{ne.value=!0;try{await ve(),u.success("设置已刷新")}catch{u.error("刷新设置失败")}finally{ne.value=!1}},ve=async()=>{var n,e,i,v,p,S,E,d,h,x,I,z,A,$,O,P,J,X,Y,Z,ee,te,le,B,W,j,R,se,oe,o,we,qe,Ve,ke,Se,Ee,Le,xe,Ie,he;try{const r=(await F.get("/admin/settings")).data.settings;Q.systemName=((n=r.system_name)==null?void 0:n.value)||"图库系统",Q.systemDescription=((e=r.system_description)==null?void 0:e.value)||"",k.maxFileSize=parseInt((i=r.max_file_size)==null?void 0:i.value)||100,k.maxUploadFiles=parseInt((v=r.max_upload_files)==null?void 0:v.value)||10,k.allowedImageTypes=((S=(p=r.allowed_image_types)==null?void 0:p.value)==null?void 0:S.split(","))||["jpg","jpeg","png","gif","webp"],k.allowedVideoTypes=((d=(E=r.allowed_video_types)==null?void 0:E.value)==null?void 0:d.split(","))||["mp4","webm","mov"],k.thumbnailSize=parseInt((h=r.thumbnail_size)==null?void 0:h.value)||300,q.minPasswordLength=parseInt((x=r.min_password_length)==null?void 0:x.value)||6,q.enableLoginLock=((I=r.enable_login_lock)==null?void 0:I.value)==="true",q.maxLoginAttempts=parseInt((z=r.max_login_attempts)==null?void 0:z.value)||5,q.lockoutDuration=parseInt((A=r.lockout_duration)==null?void 0:A.value)||15,q.sessionTimeout=parseInt(($=r.session_timeout)==null?void 0:$.value)||120,c.enableEmailNotification=((O=r.enable_email_notification)==null?void 0:O.value)==="true",c.smtpHost=((P=r.smtp_host)==null?void 0:P.value)||"",c.smtpPort=parseInt((J=r.smtp_port)==null?void 0:J.value)||587,c.smtpUsername=((X=r.smtp_username)==null?void 0:X.value)||"",c.smtpPassword=((Y=r.smtp_password)==null?void 0:Y.value)||"",c.senderEmail=((Z=r.sender_email)==null?void 0:Z.value)||"",c.senderName=((ee=r.sender_name)==null?void 0:ee.value)||"图库系统",c.enableSystemNotification=((te=r.enable_system_notification)==null?void 0:te.value)==="true",m.themeMode=((le=r.theme_mode)==null?void 0:le.value)||"light",m.primaryColor=((B=r.primary_color)==null?void 0:B.value)||"#409EFF",m.sidebarWidth=parseInt((W=r.sidebar_width)==null?void 0:W.value)||240,m.enableAnimation=((j=r.enable_animation)==null?void 0:j.value)==="true",m.logoUrl=((R=r.logo_url)==null?void 0:R.value)||"/logo.png",m.faviconUrl=((se=r.favicon_url)==null?void 0:se.value)||"/logo.png",a.qqLoginEnabled=((oe=r.qq_login_enabled)==null?void 0:oe.value)==="true",a.qqAppId=((o=r.qq_app_id)==null?void 0:o.value)||"",a.qqAppKey=((we=r.qq_app_key)==null?void 0:we.value)||"",a.wechatLoginEnabled=((qe=r.wechat_login_enabled)==null?void 0:qe.value)==="true",a.wechatAppId=((Ve=r.wechat_app_id)==null?void 0:Ve.value)||"",a.wechatAppSecret=((ke=r.wechat_app_secret)==null?void 0:ke.value)||"",f.maintenanceMode=((Se=r.maintenance_mode)==null?void 0:Se.value)==="true",f.maintenanceMessage=((Ee=r.maintenance_message)==null?void 0:Ee.value)||"",f.backupEnabled=((Le=r.backup_enabled)==null?void 0:Le.value)==="true",f.backupFrequency=((xe=r.backup_frequency)==null?void 0:xe.value)||"daily",f.backupRetentionDays=parseInt((Ie=r.backup_retention_days)==null?void 0:Ie.value)||30,f.autoCleanLogs=((he=r.auto_clean_logs)==null?void 0:he.value)==="true",D.value={qqLoginEnabled:a.qqLoginEnabled,wechatLoginEnabled:a.wechatLoginEnabled,qqAppId:a.qqAppId,wechatAppId:a.wechatAppId}}catch(Ae){throw Ae}},Ge=async()=>{if(ie.value)try{await ie.value.validate(),V.value=!0;const n={system_name:Q.systemName,system_description:Q.systemDescription};await F.put("/admin/settings",{settings:n}),u.success("常规设置保存成功")}catch{u.error("保存常规设置失败")}finally{V.value=!1}},He=async()=>{if(de.value)try{await de.value.validate(),V.value=!0;const n={max_file_size:k.maxFileSize.toString(),max_upload_files:k.maxUploadFiles.toString(),allowed_image_types:k.allowedImageTypes.join(","),allowed_video_types:k.allowedVideoTypes.join(","),thumbnail_size:k.thumbnailSize.toString()};await F.put("/admin/settings",{settings:n}),u.success("存储设置保存成功")}catch{u.error("保存存储设置失败")}finally{V.value=!1}},$e=async()=>{var n,e,i,v;if(re.value)try{await re.value.validate(),V.value=!0;const p={min_password_length:q.minPasswordLength.toString(),enable_login_lock:q.enableLoginLock.toString(),max_login_attempts:q.maxLoginAttempts.toString(),lockout_duration:q.lockoutDuration.toString(),session_timeout:q.sessionTimeout.toString()};await F.put("/admin/settings",{settings:p}),u.success("安全设置保存成功")}catch(p){(e=(n=p.response)==null?void 0:n.data)!=null&&e.message?u.error(`保存失败: ${p.response.data.message}`):(v=(i=p.response)==null?void 0:i.data)!=null&&v.errors?u.error(`验证失败: ${p.response.data.errors.join(", ")}`):u.error("保存安全设置失败，请检查网络连接")}finally{V.value=!1}},Oe=async()=>{try{V.value=!0;const n={enable_email_notification:c.enableEmailNotification.toString(),smtp_host:c.smtpHost,smtp_port:c.smtpPort.toString(),smtp_username:c.smtpUsername,smtp_password:c.smtpPassword,sender_email:c.senderEmail,sender_name:c.senderName,enable_system_notification:c.enableSystemNotification.toString()};await F.put("/admin/settings",{settings:n}),u.success("通知设置保存成功")}catch{u.error("保存通知设置失败")}finally{V.value=!1}},Je=async()=>{try{V.value=!0;const n={theme_mode:m.themeMode,primary_color:m.primaryColor,sidebar_width:m.sidebarWidth.toString(),enable_animation:m.enableAnimation.toString(),logo_url:m.logoUrl,favicon_url:m.faviconUrl};await F.put("/admin/settings",{settings:n}),u.success("外观设置保存成功")}catch{u.error("保存外观设置失败")}finally{V.value=!1}},Xe=async()=>{var n,e,i,v;if(ue.value)try{await ue.value.validate();const p=[];if(a.qqLoginEnabled&&p.push("QQ登录"),a.wechatLoginEnabled&&p.push("微信登录"),p.length>0){const{ElMessageBox:d}=await Ue(async()=>{const{ElMessageBox:h}=await import("./element-EMRHCpUD.js").then(x=>x.aW);return{ElMessageBox:h}},__vite__mapDeps([0,1]));await d.confirm(`确定要启用 ${p.join("、")} 吗？

启用后用户将可以使用这些第三方账号登录系统。`,"确认启用第三方登录",{confirmButtonText:"确定启用",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!1})}V.value=!0;const S={qq_login_enabled:a.qqLoginEnabled.toString(),wechat_login_enabled:a.wechatLoginEnabled.toString()};a.qqLoginEnabled?(S.qq_app_id=a.qqAppId,S.qq_app_key=a.qqAppKey):(S.qq_app_id="",S.qq_app_key=""),a.wechatLoginEnabled?(S.wechat_app_id=a.wechatAppId,S.wechat_app_secret=a.wechatAppSecret):(S.wechat_app_id="",S.wechat_app_secret="");const E=await F.put("/admin/settings",{settings:S});E.data.success!==!1?(u.success("第三方集成设置保存成功"),D.value={qqLoginEnabled:a.qqLoginEnabled,wechatLoginEnabled:a.wechatLoginEnabled,qqAppId:a.qqAppId,wechatAppId:a.wechatAppId},p.length>0?u.info(`已启用: ${p.join("、")}`):u.info("所有第三方登录服务已禁用")):u.error(E.data.message||"保存第三方集成设置失败")}catch(p){if(p==="cancel")return;if((e=(n=p.response)==null?void 0:n.data)!=null&&e.errors){const S=p.response.data.errors;u.error(`设置验证失败: ${S.join(", ")}`)}else(v=(i=p.response)==null?void 0:i.data)!=null&&v.message?u.error(p.response.data.message):u.error("保存第三方集成设置失败，请检查网络连接")}finally{V.value=!1}},Ye=n=>{n||(a.qqAppId="",a.qqAppKey="")},Ze=n=>{n||(a.wechatAppId="",a.wechatAppSecret="")},be=n=>`${window.location.origin}/api/auth/${n}/callback`,et=async()=>{if(!a.qqAppId){u.warning("请先填写QQ应用ID");return}ce.value=!0;try{const n=await F.post("/admin/test-connection",{type:"qq",appId:a.qqAppId,appKey:a.qqAppKey});n.data.success?u.success("QQ连接测试成功"):u.error(n.data.message||"QQ连接测试失败")}catch{u.error("QQ连接测试失败，请检查配置")}finally{ce.value=!1}},tt=async()=>{if(!a.wechatAppId){u.warning("请先填写微信应用ID");return}ge.value=!0;try{const n=await F.post("/admin/test-connection",{type:"wechat",appId:a.wechatAppId,appSecret:a.wechatAppSecret});n.data.success?u.success("微信连接测试成功"):u.error(n.data.message||"微信连接测试失败")}catch{u.error("微信连接测试失败，请检查配置")}finally{ge.value=!1}},lt=n=>{n&&u.warning("开启维护模式后，非管理员用户将无法访问系统")},st=async()=>{if(pe.value)try{await pe.value.validate(),V.value=!0;const n={maintenance_mode:f.maintenanceMode.toString(),maintenance_message:f.maintenanceMessage,backup_enabled:f.backupEnabled.toString(),backup_frequency:f.backupFrequency,backup_retention_days:f.backupRetentionDays.toString(),auto_clean_logs:f.autoCleanLogs.toString()};await F.put("/admin/settings",{settings:n}),u.success("维护设置保存成功")}catch{u.error("保存维护设置失败")}finally{V.value=!1}},ot=async()=>{try{const{ElMessageBox:n}=await Ue(async()=>{const{ElMessageBox:i}=await import("./element-EMRHCpUD.js").then(v=>v.aW);return{ElMessageBox:i}},__vite__mapDeps([0,1]));await n.confirm("测试维护模式将模拟非管理员用户的访问体验。确定要继续吗？","测试维护模式",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=`${window.location.origin}/maintenance`;window.open(e,"_blank"),u.success("已在新窗口中打开维护页面")}catch{}},at=()=>{a.qqLoginEnabled=!1,a.qqAppId="",a.qqAppKey="",a.wechatLoginEnabled=!1,a.wechatAppId="",a.wechatAppSecret="",u.info("第三方集成设置已重置")},ye=()=>{const n=document.querySelector(".mobile-settings-tabs .el-tabs__nav-scroll");if(!n||!n.querySelector(".el-tabs__nav"))return;const i=n.scrollWidth,v=n.clientWidth;if(me.value=i>v,me.value){K.value=Math.max(v/i*100,20);const p=n.scrollLeft,S=i-v;S>0?G.value=p/S*(100-K.value):G.value=0}else K.value=0,G.value=0},nt=()=>{ye()};return Ut(()=>{ve(),setTimeout(()=>{ye();const n=document.querySelector(".mobile-settings-tabs .el-tabs__nav-scroll");n&&n.addEventListener("scroll",nt)},100)}),(n,e)=>{const i=pt,v=dt,p=mt,S=rt,E=ft,d=gt,h=ct,x=_t,I=bt,z=vt,A=yt,$=T("Brush"),O=T("Sunny"),P=qt,J=T("Moon"),X=wt,Y=Vt,Z=T("Grid"),ee=kt,te=T("MagicStick"),le=T("Picture"),B=T("Link"),W=St,j=Et,R=It,se=xt,oe=ut;return b(),y("div",Qt,[l("div",Mt,[l("div",Ct,[e[37]||(e[37]=l("div",{class:"header-left"},[l("h1",{class:"page-title"},"系统设置"),l("p",{class:"page-subtitle"},"配置系统参数和功能选项")],-1)),l("div",Tt,[t(v,{onClick:Ke,loading:ne.value},{default:s(()=>[t(i,null,{default:s(()=>[t(g(fe))]),_:1}),e[36]||(e[36]=_(" 刷新 ",-1))]),_:1},8,["loading"])])])]),l("div",Dt,[l("div",Pt,[l("div",Rt,[t(S,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=o=>U.value=o),onTabChange:je,class:"mobile-settings-tabs",type:"card","tab-position":"top",stretch:!1},{default:s(()=>[t(p,{label:"常规设置",name:"general"},{label:s(()=>[l("div",Nt,[t(i,null,{default:s(()=>[t(g(Fe))]),_:1}),e[38]||(e[38]=l("span",null,"常规设置",-1))])]),_:1}),t(p,{label:"存储设置",name:"storage"},{label:s(()=>[l("div",zt,[t(i,null,{default:s(()=>[t(g(Qe))]),_:1}),e[39]||(e[39]=l("span",null,"存储设置",-1))])]),_:1}),t(p,{label:"安全设置",name:"security"},{label:s(()=>[l("div",Bt,[t(i,null,{default:s(()=>[t(g(Me))]),_:1}),e[40]||(e[40]=l("span",null,"安全设置",-1))])]),_:1}),t(p,{label:"通知设置",name:"notification"},{label:s(()=>[l("div",Wt,[t(i,null,{default:s(()=>[t(g(Ce))]),_:1}),e[41]||(e[41]=l("span",null,"通知设置",-1))])]),_:1}),t(p,{label:"外观设置",name:"appearance"},{label:s(()=>[l("div",jt,[t(i,null,{default:s(()=>[t(g(Te))]),_:1}),e[42]||(e[42]=l("span",null,"外观设置",-1))])]),_:1}),t(p,{label:"第三方集成",name:"integration"},{label:s(()=>[l("div",Kt,[t(i,null,{default:s(()=>[t(g(N))]),_:1}),e[43]||(e[43]=l("span",null,"第三方集成",-1))])]),_:1}),t(p,{label:"维护设置",name:"maintenance"},{label:s(()=>[l("div",Gt,[t(i,null,{default:s(()=>[t(g(_e))]),_:1}),e[44]||(e[44]=l("span",null,"维护设置",-1))])]),_:1})]),_:1},8,["modelValue"]),me.value?(b(),y("div",Ht,[l("div",$t,[l("div",{class:"scroll-thumb",style:De({width:K.value+"%",transform:"translateX("+G.value+"%)"})},null,4)])])):w("",!0)]),l("div",Ot,[t(oe,{class:"mobile-settings-card"},{default:s(()=>[U.value==="general"?(b(),y("div",Jt,[l("div",Xt,[l("div",Yt,[t(i,{class:"section-icon"},{default:s(()=>[t(g(Fe))]),_:1}),e[45]||(e[45]=l("span",null,"常规设置",-1))]),e[46]||(e[46]=l("div",{class:"section-description"},"配置系统基本参数",-1))]),t(h,{model:Q,rules:Ne,ref_key:"generalFormRef",ref:ie,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",Zt,[t(d,{label:"系统名称",prop:"systemName"},{default:s(()=>[t(E,{modelValue:Q.systemName,"onUpdate:modelValue":e[1]||(e[1]=o=>Q.systemName=o),placeholder:"请输入系统名称"},null,8,["modelValue"])]),_:1})]),l("div",el,[t(d,{label:"系统描述",prop:"systemDescription"},{default:s(()=>[t(E,{modelValue:Q.systemDescription,"onUpdate:modelValue":e[2]||(e[2]=o=>Q.systemDescription=o),type:"textarea",rows:4,placeholder:"请输入系统描述"},null,8,["modelValue"])]),_:1})]),l("div",tl,[l("div",ll,[t(v,{type:"primary",onClick:Ge,loading:V.value,class:"save-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),e[47]||(e[47]=_(" 保存设置 ",-1))]),_:1},8,["loading"])])])]),_:1},8,["model"])])):w("",!0),U.value==="storage"?(b(),y("div",sl,[l("div",ol,[l("div",al,[t(i,{class:"section-icon"},{default:s(()=>[t(g(Qe))]),_:1}),e[48]||(e[48]=l("span",null,"存储设置",-1))]),e[49]||(e[49]=l("div",{class:"section-description"},"配置文件存储相关参数",-1))]),t(h,{model:k,rules:ze,ref_key:"storageFormRef",ref:de,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",nl,[t(d,{label:"最大文件大小",prop:"maxFileSize"},{default:s(()=>[l("div",il,[t(x,{modelValue:k.maxFileSize,"onUpdate:modelValue":e[3]||(e[3]=o=>k.maxFileSize=o),min:1,max:1e3,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[50]||(e[50]=l("span",{class:"unit"},"MB",-1))]),e[51]||(e[51]=l("div",{class:"field-description"},"单个文件上传的最大大小限制",-1))]),_:1})]),l("div",dl,[t(d,{label:"单次上传文件数",prop:"maxUploadFiles"},{default:s(()=>[l("div",rl,[t(x,{modelValue:k.maxUploadFiles,"onUpdate:modelValue":e[4]||(e[4]=o=>k.maxUploadFiles=o),min:1,max:50,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[52]||(e[52]=l("span",{class:"unit"},"个",-1))]),e[53]||(e[53]=l("div",{class:"field-description"},"单次最多可以上传的文件数量",-1))]),_:1})]),l("div",ul,[t(d,{label:"允许的图片类型"},{default:s(()=>[t(z,{modelValue:k.allowedImageTypes,"onUpdate:modelValue":e[5]||(e[5]=o=>k.allowedImageTypes=o),class:"checkbox-group"},{default:s(()=>[t(I,{label:"jpg"},{default:s(()=>[...e[54]||(e[54]=[_("JPG",-1)])]),_:1}),t(I,{label:"jpeg"},{default:s(()=>[...e[55]||(e[55]=[_("JPEG",-1)])]),_:1}),t(I,{label:"png"},{default:s(()=>[...e[56]||(e[56]=[_("PNG",-1)])]),_:1}),t(I,{label:"gif"},{default:s(()=>[...e[57]||(e[57]=[_("GIF",-1)])]),_:1}),t(I,{label:"webp"},{default:s(()=>[...e[58]||(e[58]=[_("WebP",-1)])]),_:1}),t(I,{label:"svg"},{default:s(()=>[...e[59]||(e[59]=[_("SVG",-1)])]),_:1})]),_:1},8,["modelValue"]),e[60]||(e[60]=l("div",{class:"field-description"},"选择允许上传的图片格式",-1))]),_:1})]),l("div",pl,[t(d,{label:"允许的视频类型"},{default:s(()=>[t(z,{modelValue:k.allowedVideoTypes,"onUpdate:modelValue":e[6]||(e[6]=o=>k.allowedVideoTypes=o),class:"checkbox-group"},{default:s(()=>[t(I,{label:"mp4"},{default:s(()=>[...e[61]||(e[61]=[_("MP4",-1)])]),_:1}),t(I,{label:"webm"},{default:s(()=>[...e[62]||(e[62]=[_("WebM",-1)])]),_:1}),t(I,{label:"mov"},{default:s(()=>[...e[63]||(e[63]=[_("MOV",-1)])]),_:1}),t(I,{label:"avi"},{default:s(()=>[...e[64]||(e[64]=[_("AVI",-1)])]),_:1}),t(I,{label:"mkv"},{default:s(()=>[...e[65]||(e[65]=[_("MKV",-1)])]),_:1})]),_:1},8,["modelValue"]),e[66]||(e[66]=l("div",{class:"field-description"},"选择允许上传的视频格式",-1))]),_:1})]),l("div",ml,[t(d,{label:"缩略图尺寸",prop:"thumbnailSize"},{default:s(()=>[l("div",cl,[t(x,{modelValue:k.thumbnailSize,"onUpdate:modelValue":e[7]||(e[7]=o=>k.thumbnailSize=o),min:100,max:1e3,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[67]||(e[67]=l("span",{class:"unit"},"px",-1))]),e[68]||(e[68]=l("div",{class:"field-description"},"生成缩略图的尺寸",-1))]),_:1})]),l("div",gl,[l("div",fl,[t(v,{type:"primary",onClick:He,loading:V.value,class:"save-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),e[69]||(e[69]=_(" 保存设置 ",-1))]),_:1},8,["loading"])])])]),_:1},8,["model"])])):w("",!0),U.value==="security"?(b(),y("div",_l,[l("div",vl,[l("div",bl,[t(i,{class:"section-icon"},{default:s(()=>[t(g(Me))]),_:1}),e[70]||(e[70]=l("span",null,"安全设置",-1))]),e[71]||(e[71]=l("div",{class:"section-description"},"配置系统安全相关参数",-1))]),t(h,{model:q,rules:Be,ref_key:"securityFormRef",ref:re,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",yl,[t(d,{label:"密码最小长度",prop:"minPasswordLength"},{default:s(()=>[l("div",wl,[t(x,{modelValue:q.minPasswordLength,"onUpdate:modelValue":e[8]||(e[8]=o=>q.minPasswordLength=o),min:6,max:20,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[72]||(e[72]=l("span",{class:"unit"},"位",-1))]),e[73]||(e[73]=l("div",{class:"field-description"},"用户密码的最小长度要求",-1))]),_:1})]),l("div",ql,[t(d,{label:"登录失败锁定"},{default:s(()=>[t(A,{modelValue:q.enableLoginLock,"onUpdate:modelValue":e[9]||(e[9]=o=>q.enableLoginLock=o),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),e[74]||(e[74]=l("div",{class:"field-description"},"登录失败次数过多时锁定账户",-1))]),_:1})]),q.enableLoginLock?(b(),y("div",Vl,[t(d,{label:"最大失败次数",prop:"maxLoginAttempts"},{default:s(()=>[l("div",kl,[t(x,{modelValue:q.maxLoginAttempts,"onUpdate:modelValue":e[10]||(e[10]=o=>q.maxLoginAttempts=o),min:3,max:10,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[75]||(e[75]=l("span",{class:"unit"},"次",-1))]),e[76]||(e[76]=l("div",{class:"field-description"},"达到此次数后锁定账户",-1))]),_:1})])):w("",!0),q.enableLoginLock?(b(),y("div",Sl,[t(d,{label:"锁定时间",prop:"lockoutDuration"},{default:s(()=>[l("div",El,[t(x,{modelValue:q.lockoutDuration,"onUpdate:modelValue":e[11]||(e[11]=o=>q.lockoutDuration=o),min:5,max:60,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[77]||(e[77]=l("span",{class:"unit"},"分钟",-1))]),e[78]||(e[78]=l("div",{class:"field-description"},"账户锁定的持续时间",-1))]),_:1})])):w("",!0),l("div",Ll,[t(d,{label:"会话超时时间",prop:"sessionTimeout"},{default:s(()=>[l("div",xl,[t(x,{modelValue:q.sessionTimeout,"onUpdate:modelValue":e[12]||(e[12]=o=>q.sessionTimeout=o),min:30,max:1440,"controls-position":"right",class:"number-input"},null,8,["modelValue"]),e[79]||(e[79]=l("span",{class:"unit"},"分钟",-1))]),e[80]||(e[80]=l("div",{class:"field-description"},"用户会话的超时时间",-1))]),_:1})]),l("div",Il,[l("div",hl,[t(v,{type:"primary",onClick:$e,loading:V.value,class:"save-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),e[81]||(e[81]=_(" 保存设置 ",-1))]),_:1},8,["loading"])])])]),_:1},8,["model"])])):w("",!0),U.value==="notification"?(b(),y("div",Al,[l("div",Ul,[l("div",Fl,[t(i,{class:"section-icon"},{default:s(()=>[t(g(Ce))]),_:1}),e[82]||(e[82]=l("span",null,"通知设置",-1))]),e[83]||(e[83]=l("div",{class:"section-description"},"配置系统通知相关参数",-1))]),t(h,{model:c,ref_key:"notificationFormRef",ref:Pe,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",Ql,[t(d,{label:"邮件通知"},{default:s(()=>[t(A,{modelValue:c.enableEmailNotification,"onUpdate:modelValue":e[13]||(e[13]=o=>c.enableEmailNotification=o),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),e[84]||(e[84]=l("div",{class:"field-description"},"是否启用邮件通知功能",-1))]),_:1})]),c.enableEmailNotification?(b(),y("div",Ml,[t(d,{label:"SMTP服务器",prop:"smtpHost"},{default:s(()=>[t(E,{modelValue:c.smtpHost,"onUpdate:modelValue":e[14]||(e[14]=o=>c.smtpHost=o),placeholder:"请输入SMTP服务器地址"},null,8,["modelValue"])]),_:1})])):w("",!0),c.enableEmailNotification?(b(),y("div",Cl,[t(d,{label:"SMTP端口",prop:"smtpPort"},{default:s(()=>[t(x,{modelValue:c.smtpPort,"onUpdate:modelValue":e[15]||(e[15]=o=>c.smtpPort=o),min:1,max:65535,"controls-position":"right",class:"number-input"},null,8,["modelValue"])]),_:1})])):w("",!0),c.enableEmailNotification?(b(),y("div",Tl,[t(d,{label:"发件人邮箱",prop:"senderEmail"},{default:s(()=>[t(E,{modelValue:c.senderEmail,"onUpdate:modelValue":e[16]||(e[16]=o=>c.senderEmail=o),placeholder:"请输入发件人邮箱"},null,8,["modelValue"])]),_:1})])):w("",!0),l("div",Dl,[t(d,{label:"系统通知"},{default:s(()=>[t(A,{modelValue:c.enableSystemNotification,"onUpdate:modelValue":e[17]||(e[17]=o=>c.enableSystemNotification=o),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),e[85]||(e[85]=l("div",{class:"field-description"},"是否在系统内显示通知",-1))]),_:1})]),l("div",Pl,[l("div",Rl,[t(v,{type:"primary",onClick:Oe,loading:V.value,class:"save-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),e[86]||(e[86]=_(" 保存设置 ",-1))]),_:1},8,["loading"])])])]),_:1},8,["model"])])):w("",!0),U.value==="appearance"?(b(),y("div",Nl,[l("div",zl,[l("div",Bl,[t(i,{class:"section-icon"},{default:s(()=>[t(g(Te))]),_:1}),e[87]||(e[87]=l("span",null,"外观设置",-1))]),e[88]||(e[88]=l("div",{class:"section-description"},"配置系统界面外观和主题",-1))]),t(h,{model:m,ref_key:"appearanceFormRef",ref:Re,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",Wl,[l("div",jl,[t(i,{class:"group-icon"},{default:s(()=>[t($)]),_:1}),e[89]||(e[89]=l("span",{class:"group-title"},"主题配置",-1))]),l("div",Kl,[t(d,{label:"主题模式"},{default:s(()=>[t(X,{modelValue:m.themeMode,"onUpdate:modelValue":e[18]||(e[18]=o=>m.themeMode=o),class:"radio-group"},{default:s(()=>[t(P,{label:"light",class:"theme-radio"},{default:s(()=>[l("div",Gl,[t(i,{class:"radio-icon"},{default:s(()=>[t(O)]),_:1}),e[90]||(e[90]=l("span",null,"浅色模式",-1))])]),_:1}),t(P,{label:"dark",class:"theme-radio"},{default:s(()=>[l("div",Hl,[t(i,{class:"radio-icon"},{default:s(()=>[t(J)]),_:1}),e[91]||(e[91]=l("span",null,"深色模式",-1))])]),_:1}),t(P,{label:"auto",class:"theme-radio"},{default:s(()=>[l("div",$l,[t(i,{class:"radio-icon"},{default:s(()=>[t(g(fe))]),_:1}),e[92]||(e[92]=l("span",null,"跟随系统",-1))])]),_:1})]),_:1},8,["modelValue"]),e[93]||(e[93]=l("div",{class:"field-description"},"选择系统主题模式",-1))]),_:1})]),l("div",Ol,[t(d,{label:"主色调"},{default:s(()=>[l("div",Jl,[t(Y,{modelValue:m.primaryColor,"onUpdate:modelValue":e[19]||(e[19]=o=>m.primaryColor=o)},null,8,["modelValue"]),l("div",Xl,[l("div",{class:"color-sample",style:De({backgroundColor:m.primaryColor})},null,4),l("span",Yl,ae(m.primaryColor),1)])]),e[94]||(e[94]=l("div",{class:"field-description"},"系统的主色调",-1))]),_:1})])]),l("div",Zl,[l("div",es,[t(i,{class:"group-icon"},{default:s(()=>[t(Z)]),_:1}),e[95]||(e[95]=l("span",{class:"group-title"},"布局配置",-1))]),l("div",ts,[t(d,{label:"侧边栏宽度"},{default:s(()=>[l("div",ls,[t(ee,{modelValue:m.sidebarWidth,"onUpdate:modelValue":e[20]||(e[20]=o=>m.sidebarWidth=o),min:200,max:300,"show-input":"",class:"mobile-slider"},null,8,["modelValue"])]),e[96]||(e[96]=l("div",{class:"field-description"},"侧边栏的宽度（200-300px）",-1))]),_:1})]),l("div",ss,[t(d,{label:"页面动画"},{default:s(()=>[l("div",os,[t(A,{modelValue:m.enableAnimation,"onUpdate:modelValue":e[21]||(e[21]=o=>m.enableAnimation=o),"active-text":"开启","inactive-text":"关闭",class:"animation-switch"},null,8,["modelValue"]),l("div",as,[t(i,{class:"switch-icon"},{default:s(()=>[t(te)]),_:1}),e[97]||(e[97]=l("span",null,"页面切换动画效果",-1))])]),e[98]||(e[98]=l("div",{class:"field-description"},"是否启用页面切换动画",-1))]),_:1})])]),l("div",ns,[l("div",is,[t(i,{class:"group-icon"},{default:s(()=>[t(le)]),_:1}),e[99]||(e[99]=l("span",{class:"group-title"},"品牌配置",-1))]),l("div",ds,[t(d,{label:"系统Logo"},{default:s(()=>[l("div",rs,[t(E,{modelValue:m.logoUrl,"onUpdate:modelValue":e[22]||(e[22]=o=>m.logoUrl=o),placeholder:"请输入Logo URL",clearable:"",class:"url-input"},{prefix:s(()=>[t(i,null,{default:s(()=>[t(B)]),_:1})]),_:1},8,["modelValue"]),m.logoUrl?(b(),y("div",us,[l("img",{src:m.logoUrl,alt:"Logo预览",class:"preview-image"},null,8,ps)])):w("",!0)]),e[100]||(e[100]=l("div",{class:"field-description"},"系统Logo的URL地址",-1))]),_:1})]),l("div",ms,[t(d,{label:"网站图标"},{default:s(()=>[l("div",cs,[t(E,{modelValue:m.faviconUrl,"onUpdate:modelValue":e[23]||(e[23]=o=>m.faviconUrl=o),placeholder:"请输入Favicon URL",clearable:"",class:"url-input"},{prefix:s(()=>[t(i,null,{default:s(()=>[t(B)]),_:1})]),_:1},8,["modelValue"]),m.faviconUrl?(b(),y("div",gs,[l("img",{src:m.faviconUrl,alt:"Favicon预览",class:"preview-image"},null,8,fs)])):w("",!0)]),e[101]||(e[101]=l("div",{class:"field-description"},"网站图标的URL地址",-1))]),_:1})])]),l("div",_s,[l("div",vs,[t(v,{type:"primary",onClick:Je,loading:V.value,class:"save-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),e[102]||(e[102]=_(" 保存设置 ",-1))]),_:1},8,["loading"])])])]),_:1},8,["model"])])):w("",!0),U.value==="integration"?(b(),y("div",bs,[l("div",ys,[l("div",ws,[t(i,{class:"section-icon"},{default:s(()=>[t(g(N))]),_:1}),e[103]||(e[103]=l("span",null,"第三方集成",-1))]),e[104]||(e[104]=l("div",{class:"section-description"},"配置第三方登录和集成服务",-1))]),t(h,{model:a,ref_key:"integrationFormRef",ref:ue,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",qs,[l("div",Vs,[t(i,{class:"integration-icon"},{default:s(()=>[t(g(N))]),_:1}),e[105]||(e[105]=l("span",null,"QQ登录集成",-1))]),l("div",ks,[t(d,{label:"启用QQ登录"},{default:s(()=>[t(A,{modelValue:a.qqLoginEnabled,"onUpdate:modelValue":e[24]||(e[24]=o=>a.qqLoginEnabled=o),"active-text":"开启","inactive-text":"关闭",onChange:Ye},null,8,["modelValue"]),e[106]||(e[106]=l("div",{class:"field-description"},"允许用户使用QQ账号登录系统",-1))]),_:1})]),a.qqLoginEnabled?(b(),y("div",Ss,[t(d,{label:"QQ应用ID",prop:"qqAppId",rules:[{required:!0,message:"QQ应用ID不能为空",trigger:"blur"}]},{default:s(()=>[t(E,{modelValue:a.qqAppId,"onUpdate:modelValue":e[25]||(e[25]=o=>a.qqAppId=o),placeholder:"请输入QQ应用ID",clearable:""},null,8,["modelValue"]),l("div",Es,[t(W,{type:"primary",href:"https://connect.qq.com/",target:"_blank"},{default:s(()=>[...e[107]||(e[107]=[_(" 获取QQ应用ID ",-1)])]),_:1})])]),_:1})])):w("",!0),a.qqLoginEnabled?(b(),y("div",Ls,[t(d,{label:"QQ应用密钥",prop:"qqAppKey",rules:[{required:!0,message:"QQ应用密钥不能为空",trigger:"blur"}]},{default:s(()=>[t(E,{modelValue:a.qqAppKey,"onUpdate:modelValue":e[26]||(e[26]=o=>a.qqAppKey=o),type:"password",placeholder:"请输入QQ应用密钥","show-password":"",clearable:""},null,8,["modelValue"]),e[108]||(e[108]=l("div",{class:"field-description"},"QQ应用的密钥，用于验证应用身份",-1))]),_:1})])):w("",!0),a.qqLoginEnabled?(b(),y("div",xs,[t(j,{title:"QQ登录配置说明",type:"info",closable:!1,"show-icon":"",class:"config-alert"},{default:s(()=>[e[110]||(e[110]=l("p",null,"1. 在QQ互联平台创建应用并获取App ID和App Key",-1)),l("p",null,[e[109]||(e[109]=_("2. 设置回调地址为：",-1)),l("code",null,ae(be("qq")),1)]),e[111]||(e[111]=l("p",null,'3. 确保应用状态为"已上线"',-1))]),_:1})])):w("",!0)]),l("div",Is,[l("div",hs,[t(i,{class:"integration-icon"},{default:s(()=>[t(g(N))]),_:1}),e[112]||(e[112]=l("span",null,"微信登录集成",-1))]),l("div",As,[t(d,{label:"启用微信登录"},{default:s(()=>[t(A,{modelValue:a.wechatLoginEnabled,"onUpdate:modelValue":e[27]||(e[27]=o=>a.wechatLoginEnabled=o),"active-text":"开启","inactive-text":"关闭",onChange:Ze},null,8,["modelValue"]),e[113]||(e[113]=l("div",{class:"field-description"},"允许用户使用微信账号登录系统",-1))]),_:1})]),a.wechatLoginEnabled?(b(),y("div",Us,[t(d,{label:"微信应用ID",prop:"wechatAppId",rules:[{required:!0,message:"微信应用ID不能为空",trigger:"blur"}]},{default:s(()=>[t(E,{modelValue:a.wechatAppId,"onUpdate:modelValue":e[28]||(e[28]=o=>a.wechatAppId=o),placeholder:"请输入微信应用ID",clearable:""},null,8,["modelValue"]),l("div",Fs,[t(W,{type:"primary",href:"https://developers.weixin.qq.com/",target:"_blank"},{default:s(()=>[...e[114]||(e[114]=[_(" 获取微信应用ID ",-1)])]),_:1})])]),_:1})])):w("",!0),a.wechatLoginEnabled?(b(),y("div",Qs,[t(d,{label:"微信应用密钥",prop:"wechatAppSecret",rules:[{required:!0,message:"微信应用密钥不能为空",trigger:"blur"}]},{default:s(()=>[t(E,{modelValue:a.wechatAppSecret,"onUpdate:modelValue":e[29]||(e[29]=o=>a.wechatAppSecret=o),type:"password",placeholder:"请输入微信应用密钥","show-password":"",clearable:""},null,8,["modelValue"]),e[115]||(e[115]=l("div",{class:"field-description"},"微信应用的密钥，用于验证应用身份",-1))]),_:1})])):w("",!0)]),a.wechatLoginEnabled?(b(),Ft(d,{key:0},{default:s(()=>[t(j,{title:"微信登录配置说明",type:"info",closable:!1,"show-icon":""},{default:s(()=>[e[117]||(e[117]=l("p",null,"1. 在微信开放平台创建网站应用",-1)),l("p",null,[e[116]||(e[116]=_("2. 设置回调地址为：",-1)),l("code",null,ae(be("wechat")),1)]),e[118]||(e[118]=l("p",null,"3. 确保应用已通过审核",-1))]),_:1})]),_:1})):w("",!0),l("div",Ms,[t(d,{label:"测试连接"},{default:s(()=>[l("div",Cs,[t(v,{type:"success",onClick:et,disabled:!a.qqLoginEnabled||!a.qqAppId,loading:ce.value},{default:s(()=>[t(i,null,{default:s(()=>[t(g(N))]),_:1}),e[119]||(e[119]=_(" 测试QQ连接 ",-1))]),_:1},8,["disabled","loading"]),t(v,{type:"success",onClick:tt,disabled:!a.wechatLoginEnabled||!a.wechatAppId,loading:ge.value},{default:s(()=>[t(i,null,{default:s(()=>[t(g(N))]),_:1}),e[120]||(e[120]=_(" 测试微信连接 ",-1))]),_:1},8,["disabled","loading"])]),e[121]||(e[121]=l("div",{class:"field-description"},"测试第三方登录配置是否正确",-1))]),_:1})]),t(d,null,{default:s(()=>[t(v,{type:"primary",onClick:Xe,loading:V.value,disabled:!H.value},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),_(" "+ae(H.value?"保存设置":"已保存"),1)]),_:1},8,["loading","disabled"]),t(v,{onClick:at,style:{"margin-left":"12px"},disabled:!H.value},{default:s(()=>[t(i,null,{default:s(()=>[t(g(fe))]),_:1}),e[122]||(e[122]=_(" 重置 ",-1))]),_:1},8,["disabled"]),H.value?(b(),y("div",Ts,[t(i,null,{default:s(()=>[t(g(Lt))]),_:1}),e[123]||(e[123]=_(" 检测到未保存的更改 ",-1))])):w("",!0)]),_:1})]),_:1},8,["model"])])):w("",!0),U.value==="maintenance"?(b(),y("div",Ds,[l("div",Ps,[l("div",Rs,[t(i,{class:"section-icon"},{default:s(()=>[t(g(_e))]),_:1}),e[124]||(e[124]=l("span",null,"维护设置",-1))]),e[125]||(e[125]=l("div",{class:"section-description"},"配置系统维护相关参数",-1))]),t(h,{model:f,rules:We,ref_key:"maintenanceFormRef",ref:pe,"label-position":"top",class:"mobile-settings-form"},{default:s(()=>[l("div",Ns,[t(d,{label:"维护模式"},{default:s(()=>[t(A,{modelValue:f.maintenanceMode,"onUpdate:modelValue":e[30]||(e[30]=o=>f.maintenanceMode=o),"active-text":"开启","inactive-text":"关闭",onChange:lt},null,8,["modelValue"]),e[126]||(e[126]=l("div",{class:"field-description"},"开启后，非管理员用户将无法访问系统",-1))]),_:1})]),f.maintenanceMode?(b(),y("div",zs,[t(d,{label:"维护消息",prop:"maintenanceMessage"},{default:s(()=>[t(E,{modelValue:f.maintenanceMessage,"onUpdate:modelValue":e[31]||(e[31]=o=>f.maintenanceMessage=o),type:"textarea",rows:4,placeholder:"请输入维护提示消息",maxlength:"500","show-word-limit":""},null,8,["modelValue"]),e[127]||(e[127]=l("div",{class:"field-description"},"维护模式下显示给用户的提示信息",-1))]),_:1})])):w("",!0),l("div",Bs,[t(d,{label:"自动备份"},{default:s(()=>[t(A,{modelValue:f.backupEnabled,"onUpdate:modelValue":e[32]||(e[32]=o=>f.backupEnabled=o),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),e[128]||(e[128]=l("div",{class:"field-description"},"定期自动备份系统数据",-1))]),_:1})]),f.backupEnabled?(b(),y("div",Ws,[t(d,{label:"备份频率",prop:"backupFrequency"},{default:s(()=>[t(se,{modelValue:f.backupFrequency,"onUpdate:modelValue":e[33]||(e[33]=o=>f.backupFrequency=o),placeholder:"请选择备份频率"},{default:s(()=>[t(R,{label:"每小时",value:"hourly"}),t(R,{label:"每天",value:"daily"}),t(R,{label:"每周",value:"weekly"})]),_:1},8,["modelValue"]),e[129]||(e[129]=l("div",{class:"field-description"},"选择数据备份的频率",-1))]),_:1})])):w("",!0),f.backupEnabled?(b(),y("div",js,[t(d,{label:"备份保留天数",prop:"backupRetentionDays"},{default:s(()=>[t(x,{modelValue:f.backupRetentionDays,"onUpdate:modelValue":e[34]||(e[34]=o=>f.backupRetentionDays=o),min:1,max:365,"controls-position":"right"},null,8,["modelValue"]),e[130]||(e[130]=l("div",{class:"field-description"},"备份文件的保留时间（1-365天）",-1))]),_:1})])):w("",!0),l("div",Ks,[t(d,{label:"自动清理日志"},{default:s(()=>[t(A,{modelValue:f.autoCleanLogs,"onUpdate:modelValue":e[35]||(e[35]=o=>f.autoCleanLogs=o),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),e[131]||(e[131]=l("div",{class:"field-description"},"定期清理过期的系统日志",-1))]),_:1})]),l("div",Gs,[l("div",Hs,[t(v,{type:"primary",onClick:st,loading:V.value,class:"save-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(M))]),_:1}),e[132]||(e[132]=_(" 保存设置 ",-1))]),_:1},8,["loading"])]),l("div",$s,[t(v,{type:"warning",onClick:ot,disabled:!f.maintenanceMode,class:"test-btn"},{default:s(()=>[t(i,null,{default:s(()=>[t(g(_e))]),_:1}),e[133]||(e[133]=_(" 测试维护模式 ",-1))]),_:1},8,["disabled"])])])]),_:1},8,["model"])])):w("",!0)]),_:1})])])])])}}}),vo=it(Os,[["__scopeId","data-v-af8ea3c5"]]);export{vo as default};
