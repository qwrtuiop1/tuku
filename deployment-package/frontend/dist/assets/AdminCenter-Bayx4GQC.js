import{_ as Vt}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css                   *//* empty css                    *//* empty css                  *//* empty css                 *//* empty css                        *//* empty css                   *//* empty css                        *//* empty css                  *//* empty css                     *//* empty css                         *//* empty css                    *//* empty css               *//* empty css                  *//* empty css                *//* empty css                  */import"./el-form-item-l0sNRNKZ.js";/* empty css               *//* empty css                *//* empty css                     */import{y as Lt,r as E,l as W,c as Ce,j as Ue,U as Tt,z as H,B as s,R as t,J as l,n as Be,A,O as c,u as i,L as Z,P as w,K as $e,a4 as Ee,I as Me,E as kt,al as pe}from"./vendor-BcB6VvZI.js";import{E as d,c as Ct,aq as Ut,Z as Bt,b as $t,C as Q,ar as Et,y as Mt,F as Rt,M as It,as as fe,u as ge,Y as Re,q as le,O as Y,at as ve,d as Ft,e as zt,f as qt,a5 as ae,au as Nt,av as At,aw as jt,a9 as se,ax as Dt,aa as Pt,G as Ot,ap as Gt,J as Wt,H as Ht,P as Jt,Q as Kt,R as Zt,g as Ie,ay as Fe,az as Qt,a2 as Yt,$ as ze,aA as Xt,aB as el,aC as tl,aD as ll,aE as al,aF as sl,h as ol,W as B}from"./element-_v7tGFXC.js";import{f as C}from"./helpers-Bt27ni5u.js";import{a as V}from"./index-DwK9vE5V.js";const nl={class:"admin-center-page"},rl={class:"page-header"},il={class:"header-content"},dl={class:"header-actions"},ul={class:"admin-center-content"},cl={key:0,class:"admin-section"},ml={class:"stat-card"},pl={class:"stat-icon users"},fl={class:"stat-info"},gl={class:"stat-value"},vl={class:"stat-trend"},_l={class:"stat-card"},yl={class:"stat-icon files"},bl={class:"stat-info"},wl={class:"stat-value"},xl={class:"stat-trend"},Sl={class:"stat-card"},hl={class:"stat-icon storage"},Vl={class:"stat-info"},Ll={class:"stat-value"},Tl={class:"stat-trend"},kl={class:"quick-actions"},Cl={key:1,class:"admin-section"},Ul={class:"user-filters"},Bl={class:"user-actions"},$l={class:"action-left"},El={class:"user-info"},Ml={class:"username-text"},Rl={class:"email-text"},Il={class:"storage-info"},Fl={class:"storage-text"},zl={class:"time-text"},ql={key:2,class:"admin-section"},Nl={class:"log-filters"},Al={class:"timestamp-text"},jl={class:"message-content"},Dl={key:3,class:"admin-section"},Pl={class:"stat-content"},Ol={class:"stat-icon total"},Gl={class:"stat-info"},Wl={class:"stat-value"},Hl={class:"stat-content"},Jl={class:"stat-icon used"},Kl={class:"stat-info"},Zl={class:"stat-value"},Ql={class:"stat-content"},Yl={class:"stat-icon available"},Xl={class:"stat-info"},ea={class:"stat-value"},ta={class:"card-header"},la={class:"usage-content"},aa={class:"usage-details"},sa={class:"usage-text"},oa={class:"action-buttons"},na={key:4,class:"admin-section"},ra=Lt({__name:"AdminCenter",setup(ia){const M=E("overview"),T=E(!1),oe=E(!1),ne=E(!1),re=E(!1),J=E(!1),P=E([]),ie=E(),q=E(new Set),qe=E(!1),_e=()=>{Be(()=>{document.querySelectorAll(".el-table").forEach(e=>{const o=e,r=o.querySelector(".el-table__body-wrapper");r&&(r.style.width="100%",r.style.marginRight="0px",r.style.paddingRight="0px");const g=o.querySelector(".el-table__header-wrapper");g&&(g.style.width="100%",g.style.marginRight="0px",g.style.paddingRight="0px");const v=o.querySelector(".el-table__inner-wrapper");v&&(v.style.width="100%",v.style.marginRight="0px",v.style.paddingRight="0px")})})},ye=()=>{Be(()=>{document.querySelectorAll(".el-table").forEach(e=>{const o=e,r=o.querySelector(".el-table__header-wrapper"),g=o.querySelector(".el-table__body-wrapper");if(r&&g){const v=o.offsetWidth;r.style.width=`${v}px`,g.style.width=`${v}px`;const y=r.querySelector("table"),_=g.querySelector("table");y&&_&&(y.style.width=`${v}px`,_.style.width=`${v}px`);let m=!1;r.addEventListener("scroll",f=>{m||(m=!0,g.scrollLeft=f.target.scrollLeft,setTimeout(()=>{m=!1},10))}),g.addEventListener("scroll",f=>{m||(m=!0,r.scrollLeft=f.target.scrollLeft,setTimeout(()=>{m=!1},10))});const x=r.querySelector(".el-scrollbar__wrap"),p=g.querySelector(".el-scrollbar__wrap");x&&x.addEventListener("scroll",f=>{m||(m=!0,p&&(p.scrollLeft=f.target.scrollLeft),setTimeout(()=>{m=!1},10))}),p&&p.addEventListener("scroll",f=>{m||(m=!0,x&&(x.scrollLeft=f.target.scrollLeft),setTimeout(()=>{m=!1},10))});const b=o.querySelector(".el-table__fixed-right .el-table__fixed-header-wrapper"),S=o.querySelector(".el-table__fixed-right .el-table__fixed-body-wrapper");b&&b.addEventListener("scroll",()=>{if(m)return;m=!0;const f=b.scrollLeft;r.scrollLeft=f,g.scrollLeft=f,S&&(S.scrollLeft=f),requestAnimationFrame(()=>{m=!1})}),S&&S.addEventListener("scroll",()=>{if(m)return;m=!0;const f=S.scrollLeft;r.scrollLeft=f,g.scrollLeft=f,b&&(b.scrollLeft=f),requestAnimationFrame(()=>{m=!1})}),new MutationObserver(()=>{const f=o.querySelector(".el-table__fixed-right");if(f){const N=f.querySelector(".el-table__fixed-header-wrapper"),$=f.querySelector(".el-table__fixed-body-wrapper");N&&!N.hasAttribute("data-sync-attached")&&(N.setAttribute("data-sync-attached","true"),N.addEventListener("scroll",()=>{if(m)return;m=!0;const F=N.scrollLeft;r.scrollLeft=F,g.scrollLeft=F,$&&($.scrollLeft=F),requestAnimationFrame(()=>{m=!1})})),$&&!$.hasAttribute("data-sync-attached")&&($.setAttribute("data-sync-attached","true"),$.addEventListener("scroll",()=>{if(m)return;m=!0;const F=$.scrollLeft;r.scrollLeft=F,g.scrollLeft=F,N&&(N.scrollLeft=F),requestAnimationFrame(()=>{m=!1})}))}}).observe(o,{childList:!0,subtree:!0})}})})},I=W({totalUsers:0,totalFiles:0,totalStorage:0}),h=W({totalStorage:0,usedStorage:0,availableStorage:0}),U=E([]),j=E([]),R=W({level:"",keyword:""}),L=W({search:"",role:"",status:""}),u=W({systemName:"图库系统",allowRegistration:!0,maintenanceMode:!1,maxFileSize:100,maxUploadFiles:10,allowedImageTypes:["jpg","png","gif","webp"],allowedVideoTypes:["mp4","webm","mov"],thumbnailSize:300,autoCleanLogs:!1}),k=W({username:"",email:"",password:"",role:"user"}),Ne={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度必须在2-20个字符之间",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_\s]+$/,message:"用户名只能包含中文、字母、数字、下划线和空格",trigger:"blur"},{validator:(a,e,o)=>{e&&e.includes("@")?o(new Error("用户名不能使用邮箱格式")):e&&e.trim().length===0?o(new Error("用户名不能只包含空格")):o()},trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},Ae=Ce(()=>{let a=j.value;if(R.level&&(a=a.filter(e=>e.level===R.level)),R.keyword){const e=R.keyword.toLowerCase();a=a.filter(o=>o.message.toLowerCase().includes(e)||o.source.toLowerCase().includes(e))}return a}),O=Ce(()=>{const a=Number(h.totalStorage)||0,e=Number(h.usedStorage)||0;return a===0?0:Math.round(e/a*100)});let X=null;const je=a=>{M.value=a},ee=async()=>{if(T.value){d.warning("正在刷新中，请稍候...");return}T.value=!0;try{await De(),await de(),await Ge(),await be(),await we(),d.success("数据刷新成功")}catch{d.error("刷新数据失败")}finally{T.value=!1}},De=async()=>{try{const e=(await V.get("/admin/stats")).data;I.totalUsers=Number(e.total_users)||0,I.totalFiles=Number(e.total_files)||0,I.totalStorage=Number(e.total_file_size)||0}catch(a){throw a}},Pe=a=>{switch(a){case"active":return"success";case"inactive":return"danger";case"suspended":return"warning";default:return"info"}},Oe=a=>{switch(a){case"active":return"正常";case"inactive":return"已禁用";case"suspended":return"已暂停";default:return"未知"}},de=async()=>{try{const a=await V.get("/admin/users");U.value=a.data.users||[],_e(),ye()}catch(a){throw a}},Ge=async()=>{try{const a=await V.get("/admin/logs");j.value=a.data.logs||[]}catch(a){throw a}},be=async()=>{var a,e,o,r,g,v,y,_,m,x,p;ne.value=!0;try{const S=(await V.get("/admin/settings")).data.settings||{};u.systemName=((a=S.system_name)==null?void 0:a.value)||"图库系统",u.allowRegistration=((e=S.enable_registration)==null?void 0:e.value)==="true",u.maintenanceMode=((o=S.maintenance_mode)==null?void 0:o.value)==="true",u.maxFileSize=parseInt((r=S.max_file_size)==null?void 0:r.value)||100,u.maxUploadFiles=parseInt((g=S.max_upload_files)==null?void 0:g.value)||10,u.allowedImageTypes=((y=(v=S.allowed_image_types)==null?void 0:v.value)==null?void 0:y.split(","))||["jpg","png","gif","webp"],u.allowedVideoTypes=((m=(_=S.allowed_video_types)==null?void 0:_.value)==null?void 0:m.split(","))||["mp4","webm","mov"],u.thumbnailSize=parseInt((x=S.thumbnail_size)==null?void 0:x.value)||300,u.autoCleanLogs=((p=S.auto_clean_logs)==null?void 0:p.value)==="true"}catch(b){throw d.error("获取系统设置失败"),b}finally{ne.value=!1}},we=async()=>{try{const e=(await V.get("/admin/storage-stats")).data;h.totalStorage=Number(e.total_storage)||0,h.usedStorage=Number(e.used_storage)||0,h.availableStorage=Number(e.available_storage)||0}catch(a){console.error("获取存储统计失败:",a),h.totalStorage=Number(I.totalStorage)||0,h.usedStorage=Number(I.totalStorage)||0,h.availableStorage=0}},We=async()=>{try{await we(),d.success("存储统计已刷新")}catch{d.error("刷新存储统计失败")}},He=a=>a>=90?"#f56c6c":a>=70?"#e6a23c":"#67c23a",Je=()=>{B.alert(`
    <div style="text-align: left;">
      <h4>存储分析报告：</h4>
      <p><strong>总存储空间：</strong>${C(h.totalStorage)}</p>
      <p><strong>已使用空间：</strong>${C(h.usedStorage)}</p>
      <p><strong>可用空间：</strong>${C(h.availableStorage)}</p>
      <p><strong>使用率：</strong>${O.value}%</p>
      <hr style="margin: 10px 0;">
      <p><strong>建议：</strong></p>
      <p>${O.value>=90?"⚠️ 存储空间严重不足，建议立即清理":O.value>=70?"⚠️ 存储空间使用率较高，建议定期清理":"✅ 存储空间使用正常"}</p>
    </div>
    `,"存储分析",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0})},Ke=()=>{const a={timestamp:new Date().toLocaleString(),totalStorage:h.totalStorage,usedStorage:h.usedStorage,availableStorage:h.availableStorage,usagePercentage:O.value,totalUsers:I.totalUsers,totalFiles:I.totalFiles},e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),o=URL.createObjectURL(e),r=document.createElement("a");r.href=o,r.download=`storage-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o),d.success("存储报告已导出")},Ze=a=>{P.value=a},Qe=a=>{const e=a.id;q.value.has(e)?q.value.delete(e):(q.value.clear(),q.value.add(e))},Ye=a=>q.value.has(a.id),Xe=(a,e)=>{const o=e.id;a?(q.value.clear(),q.value.add(o)):q.value.delete(o)},xe=()=>{q.value.clear()};Ue(()=>{document.addEventListener("click",a=>{const e=a.target;!e.closest(".el-dropdown")&&!e.closest(".el-dropdown-menu")&&xe()})});const et=async(a,e)=>{xe();try{switch(a){case"toggleRole":const r=(e.role==="admin"?"user":"admin")==="admin"?"管理员":"普通用户";await B.confirm(`确定要将用户 "${e.username}" 设置为${r}吗？`,"确认操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"custom-message-box"}),await tt(e);break;case"toggleStatus":const v=(e.status==="active"?"inactive":"active")==="active"?"启用":"禁用";await B.confirm(`确定要${v}用户 "${e.username}" 吗？`,"确认操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"custom-message-box"}),await lt(e);break;case"manageStorage":await at(e);break;case"resetPassword":await st(e);break;case"forceLogout":await ot(e);break;case"delete":await B.confirm(`确定要删除用户 "${e.username}" 吗？此操作不可恢复！`,"危险操作",{confirmButtonText:"删除",cancelButtonText:"取消",type:"error",customClass:"custom-message-box custom-danger-box",confirmButtonClass:"el-button--danger"}),await nt(e),d.success("用户已删除");break}}catch(o){o==="cancel"?d.info("操作已取消"):d.error("操作失败，请重试")}},tt=async a=>{try{const e=a.role==="admin"?"user":"admin";await V.put(`/admin/users/${a.id}/role`,{role:e});const o=U.value.findIndex(r=>r.id===a.id);o!==-1&&(U.value[o].role=e),d.success(`用户角色已更新为${e==="admin"?"管理员":"普通用户"}`)}catch(e){throw d.error("切换用户角色失败"),e}},lt=async a=>{try{const e=a.status==="active"?"inactive":"active";await V.put(`/admin/users/${a.id}/status`,{status:e});const o=U.value.findIndex(r=>r.id===a.id);o!==-1&&(U.value[o].status=e),d.success(`用户状态已更新为${e==="active"?"正常":"已禁用"}`)}catch(e){throw d.error("切换用户状态失败"),e}},at=async a=>{try{const{value:e}=await B({title:"管理用户存储",message:`
        <div style="text-align: left;">
          <p><strong>当前用户：</strong>${a.username}</p>
          <p><strong>当前存储限制：</strong>${C(a.storage_limit||0)}</p>
          <p><strong>已使用存储：</strong>${C(a.used_storage||0)}</p>
          <hr style="margin: 15px 0;">
          <div style="margin-bottom: 15px;">
            <label style="display: block; margin-bottom: 5px; font-weight: 500;">新的存储限制：</label>
            <div style="display: flex; gap: 10px; align-items: center;">
              <input id="storage-value" type="number" placeholder="请输入数值" 
                     style="flex: 1; padding: 8px; border: 1px solid #dcdfe6; border-radius: 4px; font-size: 14px;" 
                     min="1" step="0.1">
              <select id="storage-unit" style="padding: 8px; border: 1px solid #dcdfe6; border-radius: 4px; font-size: 14px;">
                <option value="MB">MB</option>
                <option value="GB" selected>GB</option>
                <option value="TB">TB</option>
              </select>
            </div>
          </div>
          <div style="color: #909399; font-size: 12px;">
            <p>💡 提示：</p>
            <p>• MB: 兆字节 (1MB = 1,048,576 字节)</p>
            <p>• GB: 千兆字节 (1GB = 1,073,741,824 字节)</p>
            <p>• TB: 太字节 (1TB = 1,099,511,627,776 字节)</p>
          </div>
        </div>
      `,showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,beforeClose:(o,r,g)=>{if(o==="confirm"){const v=document.getElementById("storage-value"),y=document.getElementById("storage-unit");if(!v.value||parseFloat(v.value)<=0){d.error("请输入有效的存储数值");return}const _=parseFloat(v.value),m=y.value;let x=0;switch(m){case"MB":x=_*1024*1024;break;case"GB":x=_*1024*1024*1024;break;case"TB":x=_*1024*1024*1024*1024;break}if(x<(a.used_storage||0)){d.error(`新容量不能小于已使用容量 (${C(a.used_storage||0)})`);return}r.confirmButtonLoading=!0,V.put(`/admin/users/${a.id}/storage`,{storage_limit:Math.floor(x)}).then(()=>{const p=U.value.findIndex(b=>b.id===a.id);p!==-1&&(U.value[p].storage_limit=Math.floor(x)),d.success(`用户存储限制已更新为 ${_} ${m}`),g()}).catch(p=>{d.error("更新存储限制失败"),r.confirmButtonLoading=!1})}else g()}})}catch(e){e!=="cancel"&&d.error("管理用户存储失败")}},st=async a=>{try{await B.confirm(`确定要重置用户 "${a.username}" 的密码吗？

重置后用户需要使用新密码登录。`,"重置密码确认",{confirmButtonText:"确定重置",cancelButtonText:"取消",type:"warning"});const{value:e}=await B.prompt(`请输入用户 "${a.username}" 的新密码:`,"设置新密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password",inputPattern:/^.{6,}$/,inputErrorMessage:"密码长度至少6位"});await V.put(`/admin/users/${a.id}/password`,{password:e}),d.success("用户密码重置成功")}catch(e){e!=="cancel"&&d.error("重置密码失败")}},ot=async a=>{try{await B.confirm(`确定要强制用户 "${a.username}" 登出吗？

这将清除该用户的所有登录会话。`,"强制登出确认",{confirmButtonText:"确定登出",cancelButtonText:"取消",type:"warning"}),await V.post(`/admin/users/${a.id}/logout`),d.success("用户已被强制登出")}catch(e){e!=="cancel"&&d.error("强制登出失败")}},nt=async a=>{try{await B.confirm(`确定要删除用户 "${a.username}" 吗？

此操作将删除：
- 用户的所有文件
- 用户的所有文件夹
- 用户的登录记录
- 相关的系统日志

此操作不可撤销！`,"删除用户确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}),await V.delete(`/admin/users/${a.id}`),U.value=U.value.filter(e=>e.id!==a.id),d.success(`用户 "${a.username}" 已删除`)}catch(e){e!=="cancel"&&d.error("删除用户失败")}},rt=async()=>{if(P.value.length===0){d.warning("请先选择要删除的用户");return}try{await B.confirm(`确定要删除选中的 ${P.value.length} 个用户吗？

此操作将删除：
- 用户的所有文件
- 用户的所有文件夹
- 用户的登录记录
- 相关的系统日志

此操作不可撤销！`,"批量删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0});const a=P.value.map(e=>e.id);await V.delete("/admin/users/batch",{data:{user_ids:a}}),U.value=U.value.filter(e=>!a.includes(e.id)),P.value=[],d.success(`已成功删除 ${a.length} 个用户`)}catch(a){a!=="cancel"&&d.error("批量删除用户失败")}},Se=async()=>{if(T.value){d.warning("正在刷新中，请稍候...");return}try{const a={};L.search&&(a.search=L.search),L.role&&(a.role=L.role),L.status&&(a.status=L.status);const e=await V.get("/admin/users",{params:a});U.value=e.data.users||[],d.success("搜索完成")}catch{d.error("搜索用户失败")}},it=async()=>{if(T.value){d.warning("正在刷新中，请稍候...");return}L.search="",L.role="",L.status="";try{await de(),d.success("筛选已重置")}catch{d.error("重置筛选失败")}},dt=async()=>{if(ie.value)try{await ie.value.validate(),re.value=!0,await V.post("/admin/users",{username:k.username,email:k.email,password:k.password,role:k.role}),d.success("用户创建成功"),J.value=!1,Object.assign(k,{username:"",email:"",password:"",role:"user"}),await de()}catch{d.error("创建用户失败")}finally{re.value=!1}},he=async()=>{if(T.value){d.warning("正在刷新中，请稍候...");return}try{const a={};R.level&&(a.level=R.level);const e=await V.get("/admin/logs",{params:a});j.value=e.data.logs||[],d.success("日志搜索完成")}catch{d.error("搜索日志失败")}},ut=async()=>{if(T.value){d.warning("正在刷新中，请稍候...");return}try{await B.confirm("确定要清空所有日志吗？","清空确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await V.delete("/admin/logs"),j.value=[],d.success("日志已清空")}catch(a){a!=="cancel"&&d.error("清空日志失败")}},ct=()=>{if(j.value.length===0){d.warning("没有日志数据可导出");return}const a=j.value.map(y=>({时间:ue(y.timestamp),级别:Ve(y.level),来源:y.source||"系统",消息:y.message||"无消息内容",用户ID:y.user_id||"系统"})),e=["时间","级别","来源","消息","用户ID"],o=[e.join(","),...a.map(y=>e.map(_=>`"${(y[_]||"").toString().replace(/"/g,'""')}"`).join(","))].join(`
`),r=new Blob(["\uFEFF"+o],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(r),v=document.createElement("a");v.href=g,v.download=`system-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g),d.success(`已导出 ${j.value.length} 条日志记录`)},mt=async()=>{if(u.allowedImageTypes.length===0){d.error("至少需要选择一种图片格式");return}if(u.systemName.trim().length===0){d.error("系统名称不能为空");return}oe.value=!0;try{const a={system_name:u.systemName.trim(),enable_registration:u.allowRegistration.toString(),maintenance_mode:u.maintenanceMode.toString(),max_file_size:u.maxFileSize.toString(),max_upload_files:u.maxUploadFiles.toString(),allowed_image_types:u.allowedImageTypes.join(","),allowed_video_types:u.allowedVideoTypes.join(","),thumbnail_size:u.thumbnailSize.toString(),auto_clean_logs:u.autoCleanLogs.toString()};await V.put("/admin/settings",{settings:a}),d.success("系统设置保存成功"),u.maintenanceMode&&B.alert("维护模式已开启，普通用户将无法访问系统。请确保在维护完成后及时关闭维护模式。","维护模式提醒",{confirmButtonText:"我知道了",type:"warning"})}catch{d.error("保存设置失败")}finally{oe.value=!1}},pt=()=>{B.alert(`
    <div style="text-align: left;">
      <h4>当前设置预览：</h4>
      <p><strong>系统名称：</strong>${u.systemName}</p>
      <p><strong>允许注册：</strong>${u.allowRegistration?"是":"否"}</p>
      <p><strong>维护模式：</strong>${u.maintenanceMode?"开启":"关闭"}</p>
      <p><strong>最大文件大小：</strong>${u.maxFileSize}MB</p>
      <p><strong>单次上传数量：</strong>${u.maxUploadFiles}个</p>
      <p><strong>允许的图片类型：</strong>${u.allowedImageTypes.join(", ")}</p>
      <p><strong>允许的视频类型：</strong>${u.allowedVideoTypes.join(", ")}</p>
      <p><strong>缩略图尺寸：</strong>${u.thumbnailSize}px</p>
      <p><strong>自动清理日志：</strong>${u.autoCleanLogs?"开启":"关闭"}</p>
    </div>
    `,"设置预览",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0})},ft=a=>{switch(a){case"error":return"danger";case"warning":return"warning";case"info":return"success";default:return"info"}},Ve=a=>{switch(a){case"error":return"错误";case"warning":return"警告";case"info":return"信息";default:return"未知"}},ue=a=>{if(!a)return"未知时间";try{return new Date(a).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return a}},gt=(a,e)=>{if(!e||e===0)return"#e6e6e6";const o=a/e*100;return o>=90?"#f56c6c":o>=70?"#e6a23c":"#67c23a"},vt=()=>{X=setInterval(()=>{T.value||ee()},6e4)},_t=()=>{X&&(clearInterval(X),X=null)};return Ue(async()=>{try{await ee(),vt(),_e(),ye()}catch{d.error("初始化数据失败")}}),Tt(()=>{_t()}),(a,e)=>{const o=$t,r=Ct,g=It,v=Rt,y=Mt,_=Et,m=Ut,x=qt,p=zt,b=At,S=Nt,K=Ft,f=Pt,N=Ot,$=Gt,F=Wt,G=Zt,yt=Kt,bt=Ht,Le=Yt,te=tl,ce=ll,wt=pe("Upload"),me=al,z=ol,Te=sl,xt=pe("Tools"),St=pe("View"),ht=Bt,ke=Dt;return A(),H("div",nl,[s("div",rl,[s("div",il,[e[27]||(e[27]=s("div",{class:"header-left"},[s("h1",{class:"page-title"},"管理中心"),s("p",{class:"page-subtitle"},"系统管理、监控和日志中心")],-1)),s("div",dl,[t(r,{onClick:ee,loading:T.value},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Q))]),_:1}),e[26]||(e[26]=c(" 刷新数据 ",-1))]),_:1},8,["loading"])])])]),s("div",ul,[t(m,{gutter:24},{default:l(()=>[t(_,{xs:24,sm:8,md:6,lg:5,xl:4},{default:l(()=>[t(y,{class:"admin-nav-card"},{default:l(()=>[t(v,{modelValue:M.value,"onUpdate:modelValue":e[0]||(e[0]=n=>M.value=n),class:"admin-menu",onSelect:je},{default:l(()=>[t(g,{index:"overview"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(fe))]),_:1}),e[28]||(e[28]=s("span",null,"系统概览",-1))]),_:1}),t(g,{index:"users"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(ge))]),_:1}),e[29]||(e[29]=s("span",null,"用户管理",-1))]),_:1}),t(g,{index:"logs"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Re))]),_:1}),e[30]||(e[30]=s("span",null,"系统日志",-1))]),_:1}),t(g,{index:"storage"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(le))]),_:1}),e[31]||(e[31]=s("span",null,"存储管理",-1))]),_:1}),t(g,{index:"settings"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Y))]),_:1}),e[32]||(e[32]=s("span",null,"系统设置",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(_,{xs:24,sm:16,md:18,lg:19,xl:20},{default:l(()=>[t(y,{class:"admin-panel-card"},{default:l(()=>[M.value==="overview"?(A(),H("div",cl,[e[44]||(e[44]=s("div",{class:"section-header"},[s("h3",null,"系统概览"),s("p",null,"系统整体运行状态和统计数据")],-1)),t(m,{gutter:16,class:"stats-cards"},{default:l(()=>[t(_,{xs:12,sm:8,md:8,lg:8,xl:8},{default:l(()=>[s("div",ml,[s("div",pl,[t(o,null,{default:l(()=>[t(i(ge))]),_:1})]),s("div",fl,[s("div",gl,w(I.totalUsers),1),e[34]||(e[34]=s("div",{class:"stat-label"},"总用户数",-1)),s("div",vl,[t(o,{class:"trend-icon"},{default:l(()=>[t(i(ve))]),_:1}),e[33]||(e[33]=s("span",{class:"trend-text"},"活跃用户",-1))])])])]),_:1}),t(_,{xs:12,sm:8,md:8,lg:8,xl:8},{default:l(()=>[s("div",_l,[s("div",yl,[t(o,null,{default:l(()=>[t(i(le))]),_:1})]),s("div",bl,[s("div",wl,w(I.totalFiles),1),e[36]||(e[36]=s("div",{class:"stat-label"},"总文件数",-1)),s("div",xl,[t(o,{class:"trend-icon"},{default:l(()=>[t(i(ve))]),_:1}),e[35]||(e[35]=s("span",{class:"trend-text"},"存储文件",-1))])])])]),_:1}),t(_,{xs:24,sm:8,md:8,lg:8,xl:8},{default:l(()=>[s("div",Sl,[s("div",hl,[t(o,null,{default:l(()=>[t(i(fe))]),_:1})]),s("div",Vl,[s("div",Ll,w(i(C)(I.totalStorage)),1),e[38]||(e[38]=s("div",{class:"stat-label"},"总存储量",-1)),s("div",Tl,[t(o,{class:"trend-icon"},{default:l(()=>[t(i(ve))]),_:1}),e[37]||(e[37]=s("span",{class:"trend-text"},"已使用",-1))])])])]),_:1})]),_:1}),s("div",kl,[e[43]||(e[43]=s("h4",null,"快速操作",-1)),t(m,{gutter:12},{default:l(()=>[t(_,{xs:12,sm:6,md:6,lg:6,xl:6},{default:l(()=>[t(r,{class:"quick-action-btn",onClick:e[1]||(e[1]=n=>M.value="users")},{default:l(()=>[t(o,null,{default:l(()=>[t(i(ge))]),_:1}),e[39]||(e[39]=s("span",null,"用户管理",-1))]),_:1})]),_:1}),t(_,{xs:12,sm:6,md:6,lg:6,xl:6},{default:l(()=>[t(r,{class:"quick-action-btn",onClick:e[2]||(e[2]=n=>M.value="logs")},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Re))]),_:1}),e[40]||(e[40]=s("span",null,"系统日志",-1))]),_:1})]),_:1}),t(_,{xs:12,sm:6,md:6,lg:6,xl:6},{default:l(()=>[t(r,{class:"quick-action-btn",onClick:e[3]||(e[3]=n=>M.value="settings")},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Y))]),_:1}),e[41]||(e[41]=s("span",null,"系统设置",-1))]),_:1})]),_:1}),t(_,{xs:12,sm:6,md:6,lg:6,xl:6},{default:l(()=>[t(r,{class:"quick-action-btn",onClick:ee},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Q))]),_:1}),e[42]||(e[42]=s("span",null,"刷新数据",-1))]),_:1})]),_:1})]),_:1})])])):Z("",!0),M.value==="users"?(A(),H("div",Cl,[e[53]||(e[53]=s("div",{class:"section-header"},[s("h3",null,"用户管理"),s("p",null,"管理系统用户和权限")],-1)),s("div",Ul,[t(K,{model:L,inline:""},{default:l(()=>[t(p,{label:"搜索用户"},{default:l(()=>[t(x,{modelValue:L.search,"onUpdate:modelValue":e[4]||(e[4]=n=>L.search=n),placeholder:"用户名或邮箱",clearable:"",style:{width:"200px"},onKeyup:Ee(Se,["enter"])},{prefix:l(()=>[t(o,null,{default:l(()=>[t(i(ae))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"角色"},{default:l(()=>[t(S,{modelValue:L.role,"onUpdate:modelValue":e[5]||(e[5]=n=>L.role=n),placeholder:"选择角色",clearable:"",style:{width:"120px"}},{default:l(()=>[t(b,{label:"全部",value:""}),t(b,{label:"管理员",value:"admin"}),t(b,{label:"用户",value:"user"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"状态"},{default:l(()=>[t(S,{modelValue:L.status,"onUpdate:modelValue":e[6]||(e[6]=n=>L.status=n),placeholder:"选择状态",clearable:"",style:{width:"120px"}},{default:l(()=>[t(b,{label:"全部",value:""}),t(b,{label:"正常",value:"active"}),t(b,{label:"已禁用",value:"disabled"})]),_:1},8,["modelValue"])]),_:1}),t(p,null,{default:l(()=>[t(r,{type:"primary",onClick:Se,loading:T.value},{default:l(()=>[t(o,null,{default:l(()=>[t(i(ae))]),_:1}),e[45]||(e[45]=c(" 搜索 ",-1))]),_:1},8,["loading"]),t(r,{onClick:it},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Q))]),_:1}),e[46]||(e[46]=c(" 重置 ",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),s("div",Bl,[s("div",$l,[t(r,{type:"primary",onClick:e[7]||(e[7]=n=>J.value=!0)},{default:l(()=>[t(o,null,{default:l(()=>[t(i(jt))]),_:1}),e[47]||(e[47]=c(" 创建用户 ",-1))]),_:1}),t(r,{onClick:rt,disabled:P.value.length===0},{default:l(()=>[t(o,null,{default:l(()=>[t(i(se))]),_:1}),e[48]||(e[48]=c(" 批量删除 ",-1))]),_:1},8,["disabled"])])]),$e((A(),Me(Le,{data:U.value,style:{width:"100%","table-layout":"fixed"},onSelectionChange:Ze,"empty-text":"暂无用户数据","row-key":n=>n.id},{default:l(()=>[t(f,{type:"selection",width:"55"}),t(f,{prop:"username",label:"用户名",width:"140"},{default:l(({row:n})=>[s("div",El,[t(N,{size:32,src:n.avatar_url},{default:l(()=>{var D;return[c(w((D=n.username)==null?void 0:D.charAt(0).toUpperCase()),1)]}),_:2},1032,["src"]),s("span",Ml,w(n.username||"未知用户"),1)])]),_:1}),t(f,{prop:"email",label:"邮箱","min-width":"120"},{default:l(({row:n})=>[s("span",Rl,w(n.email||"未设置"),1)]),_:1}),t(f,{prop:"role",label:"角色",width:"60"},{default:l(({row:n})=>[t($,{type:n.role==="admin"?"danger":"primary",size:"small"},{default:l(()=>[c(w(n.role==="admin"?"管理员":"用户"),1)]),_:2},1032,["type"])]),_:1}),t(f,{prop:"status",label:"状态",width:"80"},{default:l(({row:n})=>[t($,{type:Pe(n.status),size:"small"},{default:l(()=>[c(w(Oe(n.status)),1)]),_:2},1032,["type"])]),_:1}),t(f,{label:"存储使用",width:"120"},{default:l(({row:n})=>[s("div",Il,[t(F,{percentage:Math.round((n.used_storage||0)/(n.storage_limit||1)*100),"stroke-width":6,"show-text":!1,color:gt(n.used_storage,n.storage_limit)},null,8,["percentage","color"]),s("span",Fl,w(i(C)(n.used_storage||0))+" / "+w(i(C)(n.storage_limit||0)),1)])]),_:1}),t(f,{prop:"created_at",label:"注册时间",width:"100"},{default:l(({row:n})=>[s("span",zl,w(ue(n.created_at)),1)]),_:1}),t(f,{label:"操作",width:"60",fixed:"right"},{default:l(({row:n})=>[t(bt,{onCommand:D=>et(D,n),onVisibleChange:D=>Xe(D,n),trigger:"click","hide-on-click":!0},{dropdown:l(()=>[t(yt,null,{default:l(()=>[t(G,{command:"toggleRole"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Ie))]),_:1}),c(" "+w(n.role==="admin"?"取消管理员":"设为管理员"),1)]),_:2},1024),t(G,{command:"toggleStatus"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Fe))]),_:1}),c(" "+w(n.status==="active"?"禁用用户":"启用用户"),1)]),_:2},1024),t(G,{command:"manageStorage"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(le))]),_:1}),e[49]||(e[49]=c(" 管理存储 ",-1))]),_:1}),t(G,{command:"resetPassword"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Qt))]),_:1}),e[50]||(e[50]=c(" 重置密码 ",-1))]),_:1}),t(G,{command:"forceLogout"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Fe))]),_:1}),e[51]||(e[51]=c(" 强制登出 ",-1))]),_:1}),t(G,{command:"delete",divided:""},{default:l(()=>[t(o,null,{default:l(()=>[t(i(se))]),_:1}),e[52]||(e[52]=c(" 删除用户 ",-1))]),_:1})]),_:2},1024)]),default:l(()=>[t(r,{type:"text",size:"small",onClick:D=>Qe(n),class:kt({"menu-open":Ye(n)})},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Jt))]),_:1})]),_:1},8,["onClick","class"])]),_:2},1032,["onCommand","onVisibleChange"])]),_:1})]),_:1},8,["data","row-key"])),[[ke,T.value]])])):Z("",!0),M.value==="logs"?(A(),H("div",ql,[e[57]||(e[57]=s("div",{class:"section-header"},[s("h3",null,"系统日志"),s("p",null,"查看和管理系统运行日志")],-1)),s("div",Nl,[t(K,{model:R,inline:""},{default:l(()=>[t(p,{label:"日志级别"},{default:l(()=>[t(S,{modelValue:R.level,"onUpdate:modelValue":e[8]||(e[8]=n=>R.level=n),placeholder:"选择级别",clearable:"",style:{width:"120px"}},{default:l(()=>[t(b,{label:"全部",value:""}),t(b,{label:"错误",value:"error"}),t(b,{label:"警告",value:"warning"}),t(b,{label:"信息",value:"info"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"关键词"},{default:l(()=>[t(x,{modelValue:R.keyword,"onUpdate:modelValue":e[9]||(e[9]=n=>R.keyword=n),placeholder:"搜索日志内容",clearable:"",style:{width:"200px"},onKeyup:Ee(he,["enter"])},{prefix:l(()=>[t(o,null,{default:l(()=>[t(i(ae))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,null,{default:l(()=>[t(r,{type:"primary",onClick:he,loading:T.value},{default:l(()=>[t(o,null,{default:l(()=>[t(i(ae))]),_:1}),e[54]||(e[54]=c(" 搜索 ",-1))]),_:1},8,["loading"]),t(r,{onClick:ct},{default:l(()=>[t(o,null,{default:l(()=>[t(i(ze))]),_:1}),e[55]||(e[55]=c(" 导出日志 ",-1))]),_:1}),t(r,{onClick:ut,loading:T.value},{default:l(()=>[t(o,null,{default:l(()=>[t(i(se))]),_:1}),e[56]||(e[56]=c(" 清空日志 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),$e((A(),Me(Le,{data:Ae.value,style:{width:"100%"},height:"400","empty-text":"暂无日志数据"},{default:l(()=>[t(f,{prop:"timestamp",label:"时间",width:"180"},{default:l(({row:n})=>[s("span",Al,w(ue(n.timestamp)),1)]),_:1}),t(f,{prop:"level",label:"级别",width:"100"},{default:l(({row:n})=>[t($,{type:ft(n.level),size:"small"},{default:l(()=>[c(w(Ve(n.level)),1)]),_:2},1032,["type"])]),_:1}),t(f,{prop:"source",label:"来源",width:"120"},{default:l(({row:n})=>[t($,{size:"small",type:"info"},{default:l(()=>[c(w(n.source||"系统"),1)]),_:2},1024)]),_:1}),t(f,{prop:"message",label:"消息","min-width":"200"},{default:l(({row:n})=>[s("div",jl,w(n.message||"无消息内容"),1)]),_:1})]),_:1},8,["data"])),[[ke,T.value]])])):Z("",!0),M.value==="storage"?(A(),H("div",Dl,[e[67]||(e[67]=s("div",{class:"section-header"},[s("h3",null,"存储管理"),s("p",null,"管理系统存储空间和使用情况")],-1)),t(m,{gutter:16,class:"storage-stats"},{default:l(()=>[t(_,{xs:24,sm:8,md:8,lg:8,xl:8},{default:l(()=>[t(y,{class:"storage-stat-card"},{default:l(()=>[s("div",Pl,[s("div",Ol,[t(o,null,{default:l(()=>[t(i(fe))]),_:1})]),s("div",Gl,[s("div",Wl,w(i(C)(h.totalStorage)),1),e[58]||(e[58]=s("div",{class:"stat-label"},"总存储空间",-1))])])]),_:1})]),_:1}),t(_,{xs:24,sm:8,md:8,lg:8,xl:8},{default:l(()=>[t(y,{class:"storage-stat-card"},{default:l(()=>[s("div",Hl,[s("div",Jl,[t(o,null,{default:l(()=>[t(i(le))]),_:1})]),s("div",Kl,[s("div",Zl,w(i(C)(h.usedStorage)),1),e[59]||(e[59]=s("div",{class:"stat-label"},"已使用空间",-1))])])]),_:1})]),_:1}),t(_,{xs:24,sm:8,md:8,lg:8,xl:8},{default:l(()=>[t(y,{class:"storage-stat-card"},{default:l(()=>[s("div",Ql,[s("div",Yl,[t(o,null,{default:l(()=>[t(i(Xt))]),_:1})]),s("div",Xl,[s("div",ea,w(i(C)(h.availableStorage)),1),e[60]||(e[60]=s("div",{class:"stat-label"},"可用空间",-1))])])]),_:1})]),_:1})]),_:1}),t(y,{class:"storage-usage-card"},{header:l(()=>[s("div",ta,[e[62]||(e[62]=s("span",null,"存储使用率",-1)),t(r,{onClick:We,loading:T.value,size:"small"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Q))]),_:1}),e[61]||(e[61]=c(" 刷新 ",-1))]),_:1},8,["loading"])])]),default:l(()=>[s("div",la,[t(F,{percentage:O.value,"stroke-width":20,color:He(O.value),"show-text":!0,"text-inside":""},null,8,["percentage","color"]),s("div",aa,[s("span",sa," 已使用 "+w(i(C)(h.usedStorage))+" / "+w(i(C)(h.totalStorage)),1)])])]),_:1}),t(y,{class:"storage-actions-card"},{header:l(()=>[...e[63]||(e[63]=[s("span",null,"存储操作",-1)])]),default:l(()=>[s("div",oa,[t(r,{type:"primary",onClick:e[10]||(e[10]=n=>qe.value=!0)},{default:l(()=>[t(o,null,{default:l(()=>[t(i(se))]),_:1}),e[64]||(e[64]=c(" 清理存储 ",-1))]),_:1}),t(r,{onClick:Je},{default:l(()=>[t(o,null,{default:l(()=>[t(i(el))]),_:1}),e[65]||(e[65]=c(" 存储分析 ",-1))]),_:1}),t(r,{onClick:Ke},{default:l(()=>[t(o,null,{default:l(()=>[t(i(ze))]),_:1}),e[66]||(e[66]=c(" 导出报告 ",-1))]),_:1})])]),_:1})])):Z("",!0),M.value==="settings"?(A(),H("div",na,[e[97]||(e[97]=s("div",{class:"section-header"},[s("h3",null,"系统设置"),s("p",null,"配置系统参数和功能")],-1)),t(K,{"label-width":"120px",class:"system-settings-form"},{default:l(()=>[t(te,{"content-position":"left"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Y))]),_:1}),e[68]||(e[68]=c(" 基本设置 ",-1))]),_:1}),t(p,{label:"系统名称"},{default:l(()=>[t(x,{modelValue:u.systemName,"onUpdate:modelValue":e[11]||(e[11]=n=>u.systemName=n),placeholder:"请输入系统名称",clearable:"",maxlength:"50","show-word-limit":""},{prefix:l(()=>[t(o,null,{default:l(()=>[t(i(Y))]),_:1})]),_:1},8,["modelValue"]),e[69]||(e[69]=s("div",{class:"form-description"},"显示在页面标题和登录页面的系统名称",-1))]),_:1}),t(te,{"content-position":"left"},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Ie))]),_:1}),e[70]||(e[70]=c(" 用户管理 ",-1))]),_:1}),t(p,{label:"允许注册"},{default:l(()=>[t(ce,{modelValue:u.allowRegistration,"onUpdate:modelValue":e[12]||(e[12]=n=>u.allowRegistration=n),"active-text":"允许","inactive-text":"禁止","active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"]),e[71]||(e[71]=s("div",{class:"form-description"},"是否允许新用户注册，关闭后只能由管理员创建用户",-1))]),_:1}),t(p,{label:"维护模式"},{default:l(()=>[t(ce,{modelValue:u.maintenanceMode,"onUpdate:modelValue":e[13]||(e[13]=n=>u.maintenanceMode=n),"active-text":"开启","inactive-text":"关闭","active-color":"#ff4949","inactive-color":"#13ce66"},null,8,["modelValue"]),e[72]||(e[72]=s("div",{class:"form-description"},"开启后只有管理员可以访问系统，普通用户将看到维护页面",-1))]),_:1}),t(te,{"content-position":"left"},{default:l(()=>[t(o,null,{default:l(()=>[t(wt)]),_:1}),e[73]||(e[73]=c(" 文件上传 ",-1))]),_:1}),t(p,{label:"最大文件大小"},{default:l(()=>[t(me,{modelValue:u.maxFileSize,"onUpdate:modelValue":e[14]||(e[14]=n=>u.maxFileSize=n),min:1,max:1e3,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[74]||(e[74]=s("span",{class:"form-unit"},"MB",-1)),e[75]||(e[75]=s("div",{class:"form-description"},"单个文件上传的最大大小限制，建议不超过100MB",-1))]),_:1}),t(p,{label:"单次上传数量"},{default:l(()=>[t(me,{modelValue:u.maxUploadFiles,"onUpdate:modelValue":e[15]||(e[15]=n=>u.maxUploadFiles=n),min:1,max:50,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[76]||(e[76]=s("span",{class:"form-unit"},"个",-1)),e[77]||(e[77]=s("div",{class:"form-description"},"单次最多可以上传的文件数量",-1))]),_:1}),t(p,{label:"允许的图片类型"},{default:l(()=>[t(Te,{modelValue:u.allowedImageTypes,"onUpdate:modelValue":e[16]||(e[16]=n=>u.allowedImageTypes=n)},{default:l(()=>[t(z,{label:"jpg"},{default:l(()=>[...e[78]||(e[78]=[c("JPG",-1)])]),_:1}),t(z,{label:"jpeg"},{default:l(()=>[...e[79]||(e[79]=[c("JPEG",-1)])]),_:1}),t(z,{label:"png"},{default:l(()=>[...e[80]||(e[80]=[c("PNG",-1)])]),_:1}),t(z,{label:"gif"},{default:l(()=>[...e[81]||(e[81]=[c("GIF",-1)])]),_:1}),t(z,{label:"webp"},{default:l(()=>[...e[82]||(e[82]=[c("WebP",-1)])]),_:1}),t(z,{label:"svg"},{default:l(()=>[...e[83]||(e[83]=[c("SVG",-1)])]),_:1})]),_:1},8,["modelValue"]),e[84]||(e[84]=s("div",{class:"form-description"},"选择允许上传的图片格式，至少选择一种格式",-1))]),_:1}),t(p,{label:"允许的视频类型"},{default:l(()=>[t(Te,{modelValue:u.allowedVideoTypes,"onUpdate:modelValue":e[17]||(e[17]=n=>u.allowedVideoTypes=n)},{default:l(()=>[t(z,{label:"mp4"},{default:l(()=>[...e[85]||(e[85]=[c("MP4",-1)])]),_:1}),t(z,{label:"webm"},{default:l(()=>[...e[86]||(e[86]=[c("WebM",-1)])]),_:1}),t(z,{label:"mov"},{default:l(()=>[...e[87]||(e[87]=[c("MOV",-1)])]),_:1}),t(z,{label:"avi"},{default:l(()=>[...e[88]||(e[88]=[c("AVI",-1)])]),_:1})]),_:1},8,["modelValue"]),e[89]||(e[89]=s("div",{class:"form-description"},"选择允许上传的视频格式",-1))]),_:1}),t(te,{"content-position":"left"},{default:l(()=>[t(o,null,{default:l(()=>[t(xt)]),_:1}),e[90]||(e[90]=c(" 系统优化 ",-1))]),_:1}),t(p,{label:"缩略图尺寸"},{default:l(()=>[t(me,{modelValue:u.thumbnailSize,"onUpdate:modelValue":e[18]||(e[18]=n=>u.thumbnailSize=n),min:100,max:800,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[91]||(e[91]=s("span",{class:"form-unit"},"px",-1)),e[92]||(e[92]=s("div",{class:"form-description"},"生成缩略图的尺寸，影响加载速度和存储空间",-1))]),_:1}),t(p,{label:"自动清理日志"},{default:l(()=>[t(ce,{modelValue:u.autoCleanLogs,"onUpdate:modelValue":e[19]||(e[19]=n=>u.autoCleanLogs=n),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"]),e[93]||(e[93]=s("div",{class:"form-description"},"自动清理30天前的系统日志",-1))]),_:1}),t(p,null,{default:l(()=>[t(r,{type:"primary",onClick:mt,loading:oe.value},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Y))]),_:1}),e[94]||(e[94]=c(" 保存设置 ",-1))]),_:1},8,["loading"]),t(r,{onClick:be,loading:ne.value},{default:l(()=>[t(o,null,{default:l(()=>[t(i(Q))]),_:1}),e[95]||(e[95]=c(" 重置 ",-1))]),_:1},8,["loading"]),t(r,{type:"warning",onClick:pt},{default:l(()=>[t(o,null,{default:l(()=>[t(St)]),_:1}),e[96]||(e[96]=c(" 预览效果 ",-1))]),_:1})]),_:1})]),_:1})])):Z("",!0)]),_:1})]),_:1})]),_:1})]),t(ht,{modelValue:J.value,"onUpdate:modelValue":e[25]||(e[25]=n=>J.value=n),title:"创建用户",width:"500px"},{footer:l(()=>[t(r,{onClick:e[24]||(e[24]=n=>J.value=!1)},{default:l(()=>[...e[98]||(e[98]=[c("取消",-1)])]),_:1}),t(r,{type:"primary",onClick:dt,loading:re.value},{default:l(()=>[...e[99]||(e[99]=[c("创建",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(K,{model:k,rules:Ne,ref_key:"userFormRef",ref:ie,"label-width":"100px"},{default:l(()=>[t(p,{label:"用户名",prop:"username"},{default:l(()=>[t(x,{modelValue:k.username,"onUpdate:modelValue":e[20]||(e[20]=n=>k.username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(p,{label:"邮箱",prop:"email"},{default:l(()=>[t(x,{modelValue:k.email,"onUpdate:modelValue":e[21]||(e[21]=n=>k.email=n),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),t(p,{label:"密码",prop:"password"},{default:l(()=>[t(x,{modelValue:k.password,"onUpdate:modelValue":e[22]||(e[22]=n=>k.password=n),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(p,{label:"角色",prop:"role"},{default:l(()=>[t(S,{modelValue:k.role,"onUpdate:modelValue":e[23]||(e[23]=n=>k.role=n),placeholder:"选择角色"},{default:l(()=>[t(b,{label:"普通用户",value:"user"}),t(b,{label:"管理员",value:"admin"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Ma=Vt(ra,[["__scopeId","data-v-ab6b51a5"]]);export{Ma as default};
